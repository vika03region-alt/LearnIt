import TelegramBot from 'node-telegram-bot-api';
import cron from 'node-cron';
import OpenAI from 'openai';

const TELEGRAM_TOKEN = process.env.BOTTG || '';
const CHANNEL_ID = '@IIPRB';

const grok = new OpenAI({
  apiKey: process.env.XAI_API_KEY || '',
  baseURL: 'https://api.x.ai/v1'
});

let bot: TelegramBot | null = null;

const contentTopics = [
  '–ö–∞–∫ ChatGPT —ç–∫–æ–Ω–æ–º–∏—Ç 5 —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º',
  '–¢–û–ü-5 AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ 2025',
  '–ù–µ–π—Ä–æ—Å–µ—Ç–∏ –¥–ª—è –ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤: –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∫–µ–π—Å—ã',
  'AI –≤ –∫–æ—É—á–∏–Ω–≥–µ: –∫–∞–∫ —É–ª—É—á—à–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏',
  '–ë—É–¥—É—â–µ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è: —Ä–æ–ª—å AI –≤ –æ–±—É—á–µ–Ω–∏–∏',
  '–ü—Ä–∞–∫—Ç–∏–∫–∞: —Å–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω —Å AI –∑–∞ 10 –º–∏–Ω—É—Ç',
  '–ö–∞–∫ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–Ω—è—Ç—å —Å–µ–±—è –ª—É—á—à–µ',
  '–¢–û–ü-3 –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å ChatGPT',
  'AI –¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π: –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç',
  '–ù–µ–π—Ä–æ—Ö–∞–∫–∏–Ω–≥: –∫–∞–∫ —É–ª—É—á—à–∏—Ç—å –º—ã—à–ª–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é AI'
];

async function generatePost(topic: string): Promise<string> {
  try {
    const prompt = `
–°–æ–∑–¥–∞–π —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Å—Ç –¥–ª—è Telegram –∫–∞–Ω–∞–ª–∞ –ø—Ä–æ AI –∏ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏.

–¢–µ–º–∞: ${topic}

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- 300-500 —Å–∏–º–≤–æ–ª–æ–≤
- –ù–∞—á–Ω–∏ —Å —ç–º–æ–¥–∑–∏ –∏ —Ü–µ–ø–ª—è—é—â–µ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞
- –î–∞–π –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å
- –î–æ–±–∞–≤—å –ø—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é
- –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –í –∫–æ–Ω—Ü–µ –¥–æ–±–∞–≤—å 3-5 —Ö–µ—à—Ç–µ–≥–æ–≤

–¢–æ–Ω: –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–π, –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–π
–ê—É–¥–∏—Ç–æ—Ä–∏—è: –ø—Å–∏—Ö–æ–ª–æ–≥–∏, –∫–æ—É—á–∏, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏, IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã

–û—Ç–≤–µ—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–º –ø–æ—Å—Ç–∞, –±–µ–∑ –∫–∞–≤—ã—á–µ–∫.
    `;

    const response = await grok.chat.completions.create({
      model: 'grok-2-latest',
      messages: [{ role: 'user', content: prompt }],
      temperature: 0.8,
      max_tokens: 600
    });

    return response.choices[0].message.content || '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞';
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å—Ç–∞:', error);
    return `ü§ñ AI –ò –ü–†–û–î–£–ö–¢–ò–í–ù–û–°–¢–¨\n\n–ò—Å–ø–æ–ª—å–∑—É–π –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä—É—Ç–∏–Ω—ã!\n\n–ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –∫–∞–Ω–∞–ª –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∏–Ω—Å–∞–π—Ç–æ–≤ üëâ ${CHANNEL_ID}\n\n#AI #–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å #–Ω–µ–π—Ä–æ—Å–µ—Ç–∏`;
  }
}

export async function publishPost() {
  if (!bot) {
    throw new Error('–ë–æ—Ç –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
  }
  
  try {
    const randomTopic = contentTopics[Math.floor(Math.random() * contentTopics.length)];
    const postText = await generatePost(randomTopic);
    
    await bot.sendMessage(CHANNEL_ID, postText);
    console.log(`‚úÖ –ü–æ—Å—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω: ${new Date().toLocaleString()}`);
    console.log(`üìù –¢–µ–º–∞: ${randomTopic}`);
    return { success: true, topic: randomTopic, text: postText };
  } catch (error: any) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:', error);
    throw error;
  }
}

async function publishPoll() {
  if (!bot) return;
  
  try {
    const question = '–ö–∞–∫–æ–π AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —á–∞—â–µ –≤—Å–µ–≥–æ?';
    const options = ['ChatGPT', 'Claude', 'Midjourney', '–î—Ä—É–≥–æ–π'];
    
    await bot.sendPoll(CHANNEL_ID, question, options, {
      is_anonymous: true,
      allows_multiple_answers: false
    });
    
    console.log(`‚úÖ –û–ø—Ä–æ—Å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω: ${new Date().toLocaleString()}`);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ–ø—Ä–æ—Å–∞:', error);
  }
}

export function startTelegramBot() {
  if (!TELEGRAM_TOKEN) {
    console.log('‚ö†Ô∏è BOTTG —Ç–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω - Telegram –±–æ—Ç –Ω–µ –∑–∞–ø—É—â–µ–Ω');
    return;
  }

  bot = new TelegramBot(TELEGRAM_TOKEN, { polling: true });
  
  console.log('ü§ñ Telegram –±–æ—Ç –∑–∞–ø—É—â–µ–Ω!');
  console.log(`üì¢ –ö–∞–Ω–∞–ª: ${CHANNEL_ID}`);
  console.log('');
  
  // –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
  cron.schedule('0 9 * * *', () => {
    console.log('‚è∞ –£—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç (9:00)');
    publishPost();
  });
  
  cron.schedule('0 15 * * *', () => {
    console.log('‚è∞ –î–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç (15:00)');
    publishPost();
  });
  
  cron.schedule('0 20 * * *', () => {
    console.log('‚è∞ –í–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç (20:00)');
    publishPost();
  });
  
  cron.schedule('0 12 * * 1,4', () => {
    console.log('‚è∞ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –æ–ø—Ä–æ—Å–∞');
    publishPoll();
  });
  
  // –ö–æ–º–∞–Ω–¥–∞ /start
  bot.onText(/\/start/, async (msg) => {
    const chatId = msg.chat.id;
    const welcomeMessage = `
üëã –ü—Ä–∏–≤–µ—Ç! –Ø —Ç–≤–æ–π AI-–ø–æ–º–æ—â–Ω–∏–∫

üí° –ß–¢–û –Ø –£–ú–ï–Æ:

1Ô∏è‚É£ –ü–û–ú–û–ì–ê–Æ –° –ö–û–ù–¢–ï–ù–¢–û–ú
   /ideas - –¥–∞–º –∏–¥–µ–∏ –¥–ª—è –ø–æ—Å—Ç–æ–≤
   /viral - —Å–æ–∑–¥–∞–º –≤–∏—Ä—É—Å–Ω—ã–π –ø–æ—Å—Ç

2Ô∏è‚É£ –ü–û–ö–ê–ó–´–í–ê–Æ –°–¢–ê–¢–ò–°–¢–ò–ö–£
   /analytics - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞
   /growth - –ø—Ä–æ–≥–Ω–æ–∑ —Ä–æ—Å—Ç–∞

3Ô∏è‚É£ –ê–ù–ê–õ–ò–ó–ò–†–£–Æ –ö–û–ù–ö–£–†–ï–ù–¢–û–í
   /spy - —á—Ç–æ –¥–µ–ª–∞—é—Ç –¥—Ä—É–≥–∏–µ
   /niche - –∞–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞

4Ô∏è‚É£ –î–ê–Æ –°–û–í–ï–¢–´
   /trends - —á—Ç–æ —Å–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
   /blueprint - –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è

üí¨ –ü–†–û–°–¢–û –°–ü–†–û–°–ò:
–ú–æ–∂–µ—à—å –ø–∏—Å–∞—Ç—å –æ–±—ã—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
–±–µ–∑ –∫–æ–º–∞–Ω–¥ - —è –æ—Ç–≤–µ—á—É!

–ù–∞–ø—Ä–∏–º–µ—Ä: "–ö–∞–∫ —É–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤?"

üéØ –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é: /menu
üìã –í—Å–µ –∫–æ–º–∞–Ω–¥—ã: /help
üì¢ –ö–∞–Ω–∞–ª: ${CHANNEL_ID}
    `;
    await bot!.sendMessage(chatId, welcomeMessage);
  });
  
  // –ö–æ–º–∞–Ω–¥–∞ /menu - –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
  bot.onText(/\/menu/, async (msg) => {
    const chatId = msg.chat.id;
    const menuMessage = `
üéØ –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ

–í—ã–±–µ—Ä–∏ —á—Ç–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ:

1Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç ‚Üí /ideas
2Ô∏è‚É£ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É ‚Üí /analytics
3Ô∏è‚É£ –£–∑–Ω–∞—Ç—å –ø—Ä–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ ‚Üí /spy
4Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç—å —Å–æ–≤–µ—Ç—ã ‚Üí /trends
5Ô∏è‚É£ –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è ‚Üí /blueprint

üí¨ –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –≤–æ–ø—Ä–æ—Å!

üìã –í—Å–µ –∫–æ–º–∞–Ω–¥—ã: /help
    `;
    await bot!.sendMessage(chatId, menuMessage);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /help
  bot.onText(/\/help/, async (msg) => {
    const chatId = msg.chat.id;
    const helpMessage = `
üìö –ú–ï–ù–Æ –ö–û–ú–ê–ù–î

‚úçÔ∏è –°–û–ó–î–ê–¢–¨ –ö–û–ù–¢–ï–ù–¢:
/ideas - –¥–∞–º –∏–¥–µ–∏ –¥–ª—è –ø–æ—Å—Ç–æ–≤
/viral - —Å–æ–∑–¥–∞–º –≤–∏—Ä—É—Å–Ω—ã–π –ø–æ—Å—Ç
/hashtags - –ø–æ–¥–±–µ—Ä—É —Ö–µ—à—Ç–µ–≥–∏
/post - –æ–ø—É–±–ª–∏–∫—É—é –ø–æ—Å—Ç —Å–µ–π—á–∞—Å

üìä –ü–û–°–ú–û–¢–†–ï–¢–¨ –°–¢–ê–¢–ò–°–¢–ò–ö–£:
/analytics - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞
/growth - –ø—Ä–æ–≥–Ω–æ–∑ —Ä–æ—Å—Ç–∞
/report - –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç

üîç –£–ó–ù–ê–¢–¨ –ü–†–û –ö–û–ù–ö–£–†–ï–ù–¢–û–í:
/spy [–Ω–∞–∑–≤–∞–Ω–∏–µ] - —á—Ç–æ –¥–µ–ª–∞—é—Ç –¥—Ä—É–≥–∏–µ
/niche [—Ç–µ–º–∞] - –∞–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞
/competitors - –æ–±–∑–æ—Ä –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤

üí° –ü–û–õ–£–ß–ò–¢–¨ –°–û–í–ï–¢–´:
/trends - —á—Ç–æ —Å–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
/blueprint - –ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –∫–∞–Ω–∞–ª–∞
/optimize - –∫–æ–≥–¥–∞ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
/audience - –∫—Ç–æ –≤–∞—à–∞ –∞—É–¥–∏—Ç–æ—Ä–∏—è

üõ† –ù–ê–°–¢–†–û–ô–ö–ò:
/schedule - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
/settings - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
/autopilot - —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

üí¨ –ü–†–û–°–¢–û –°–ü–†–û–°–ò:
–ü–∏—à–∏ –æ–±—ã—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã - —è –æ—Ç–≤–µ—á—É!
–ù–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã —Å–æ "/"

–ü—Ä–∏–º–µ—Ä: "–ö–∞–∫ –Ω–∞–±—Ä–∞—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤?"

üéØ –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é: /menu
üì¢ ${CHANNEL_ID}
    `;
    await bot!.sendMessage(chatId, helpMessage);
  });
  
  // –ö–æ–º–∞–Ω–¥–∞ /post
  bot.onText(/\/post/, async (msg) => {
    const chatId = msg.chat.id;
    await bot!.sendMessage(chatId, 'üìù –ì–µ–Ω–µ—Ä–∏—Ä—É—é AI –ø–æ—Å—Ç...');
    try {
      await publishPost();
      await bot!.sendMessage(chatId, '‚úÖ –ü–æ—Å—Ç —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –≤ –∫–∞–Ω–∞–ª–µ!');
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –±–æ—Ç–∞.');
    }
  });
  
  // –ö–æ–º–∞–Ω–¥–∞ /poll
  bot.onText(/\/poll/, async (msg) => {
    const chatId = msg.chat.id;
    await bot!.sendMessage(chatId, 'üìä –°–æ–∑–¥–∞—é –æ–ø—Ä–æ—Å...');
    try {
      await publishPoll();
      await bot!.sendMessage(chatId, '‚úÖ –û–ø—Ä–æ—Å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –≤ –∫–∞–Ω–∞–ª–µ!');
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ–ø—Ä–æ—Å–∞.');
    }
  });
  
  // –ö–æ–º–∞–Ω–¥–∞ /stats
  bot.onText(/\/stats/, async (msg) => {
    const chatId = msg.chat.id;
    const stats = `
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞:

‚úÖ –ü–æ—Å—Ç–æ–≤ –≤ –¥–µ–Ω—å: 3
‚úÖ –û–ø—Ä–æ—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é: 2
‚úÖ AI –º–æ–¥–µ–ª—å: Grok 2
‚úÖ –ö–∞–Ω–∞–ª: ${CHANNEL_ID}

–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:
‚Ä¢ 09:00 - —É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç
‚Ä¢ 15:00 - –¥–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç  
‚Ä¢ 20:00 - –≤–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç
‚Ä¢ 12:00 (–ü–Ω, –ß—Ç) - –æ–ø—Ä–æ—Å
    `;
    await bot!.sendMessage(chatId, stats);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /roll
  bot.onText(/\/roll(?:\s+(\d+))?/, async (msg, match) => {
    const chatId = msg.chat.id;
    const maxNumber = match && match[1] ? parseInt(match[1]) : 6;
    
    if (maxNumber < 2 || maxNumber > 1000) {
      await bot!.sendMessage(chatId, '‚ùå –£–∫–∞–∂–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 2 –¥–æ 1000!\n–ü—Ä–∏–º–µ—Ä: /roll 100');
      return;
    }
    
    const result = Math.floor(Math.random() * maxNumber) + 1;
    await bot!.sendMessage(chatId, `üé≤ –ë—Ä–æ—Å–æ–∫ –∫—É–±–∏–∫–∞ (1-${maxNumber}):\n\nüéØ –í—ã–ø–∞–ª–æ: ${result}`);
  });

  // –ì–ï–ù–ï–†–ê–¶–ò–Ø –ö–û–ù–¢–ï–ù–¢–ê
  
  // –ö–æ–º–∞–Ω–¥–∞ /ideas - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–π –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  bot.onText(/\/ideas(?:\s+(.+))?/, async (msg, match) => {
    const chatId = msg.chat.id;
    const niche = match && match[1] ? match[1] : 'AI –∏ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏';
    
    await bot!.sendMessage(chatId, 'üí° –ì–µ–Ω–µ—Ä–∏—Ä—É—é –∏–¥–µ–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞...');
    
    try {
      const prompt = `–°–æ–∑–¥–∞–π 5 –∏–¥–µ–π –¥–ª—è –ø–æ—Å—Ç–æ–≤ –≤ Telegram –∫–∞–Ω–∞–ª–µ –ø—Ä–æ "${niche}".
–ö–∞–∂–¥–∞—è –∏–¥–µ—è –¥–æ–ª–∂–Ω–∞:
- –ë—ã—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π
- –ò–º–µ—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å
- –í—ã–∑—ã–≤–∞—Ç—å –≤–æ–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏

–§–æ—Ä–º–∞—Ç: –∫—Ä–∞—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ + 1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è.`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.9,
        max_tokens: 800
      });

      const ideas = response.choices[0].message.content || '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏';
      await bot!.sendMessage(chatId, `üí° –ò–î–ï–ò –î–õ–Ø –ö–û–ù–¢–ï–ù–¢–ê\n\n–ù–∏—à–∞: ${niche}\n\n${ideas}`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–¥–µ–π. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /viral - —Å–æ–∑–¥–∞—Ç—å –≤–∏—Ä—É—Å–Ω—ã–π –ø–æ—Å—Ç
  bot.onText(/\/viral(?:\s+(.+))?/, async (msg, match) => {
    const chatId = msg.chat.id;
    const topic = match && match[1] ? match[1] : 'AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã';
    
    await bot!.sendMessage(chatId, 'üöÄ –°–æ–∑–¥–∞—é –≤–∏—Ä—É—Å–Ω—ã–π –ø–æ—Å—Ç...');
    
    try {
      const prompt = `–°–æ–∑–¥–∞–π –í–ò–†–£–°–ù–´–ô –ø–æ—Å—Ç –¥–ª—è Telegram –ø—Ä–æ "${topic}".

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç–∏:
- –ú–æ—â–Ω—ã–π —Ö—É–∫ –≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ (—à–æ–∫–∏—Ä—É—é—â–∏–π —Ñ–∞–∫—Ç/–≤–æ–ø—Ä–æ—Å)
- –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏–ª–∏ –∫–µ–π—Å
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å
- –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π –∏–Ω—Å–∞–π—Ç
- –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é
- 350-600 —Å–∏–º–≤–æ–ª–æ–≤
- –ú–Ω–æ–≥–æ —ç–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ—Å—Ç–∏

–¶–µ–ª—å: –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ–ø–æ—Å—Ç—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.95,
        max_tokens: 700
      });

      const viralPost = response.choices[0].message.content || '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏';
      await bot!.sendMessage(chatId, `üöÄ –í–ò–†–£–°–ù–´–ô –ü–û–°–¢:\n\n${viralPost}\n\n‚úÖ –ì–æ—Ç–æ–≤ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏!`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /hashtags - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ö–µ—à—Ç–µ–≥–æ–≤
  bot.onText(/\/hashtags(?:\s+(.+))?/, async (msg, match) => {
    const chatId = msg.chat.id;
    const topic = match && match[1] ? match[1] : contentTopics[0];
    
    await bot!.sendMessage(chatId, '#Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∏—Ä—É—é —Ö–µ—à—Ç–µ–≥–∏...');
    
    try {
      const prompt = `–°–æ–∑–¥–∞–π 10 —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö —Ö–µ—à—Ç–µ–≥–æ–≤ –¥–ª—è –ø–æ—Å—Ç–∞ –Ω–∞ —Ç–µ–º—É: "${topic}"

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- 5 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ö–µ—à—Ç–µ–≥–æ–≤ (–æ—Ö–≤–∞—Ç)
- 5 –Ω–∏—à–µ–≤—ã—Ö —Ö–µ—à—Ç–µ–≥–æ–≤ (—Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è)
- –ù–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ

–§–æ—Ä–º–∞—Ç: #—Ö–µ—à—Ç–µ–≥ - –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.7,
        max_tokens: 500
      });

      const hashtags = response.choices[0].message.content || '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏';
      await bot!.sendMessage(chatId, `#Ô∏è‚É£ –•–ï–®–¢–ï–ì–ò:\n\n${hashtags}`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ö–µ—à—Ç–µ–≥–æ–≤.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /rewrite - –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç
  bot.onText(/\/rewrite\s+(.+)/, async (msg, match) => {
    const chatId = msg.chat.id;
    const text = match && match[1] ? match[1] : '';
    
    if (!text) {
      await bot!.sendMessage(chatId, '‚ùå –£–∫–∞–∂–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è!\n\n–ü—Ä–∏–º–µ—Ä:\n/rewrite –í–∞—à —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å');
      return;
    }
    
    await bot!.sendMessage(chatId, '‚úçÔ∏è –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞—é —Ç–µ–∫—Å—Ç...');
    
    try {
      const prompt = `–ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å —ç—Ç–æ—Ç —Ç–µ–∫—Å—Ç, —Å–¥–µ–ª–∞–≤ –µ–≥–æ:
- –ë–æ–ª–µ–µ –∂–∏–≤—ã–º –∏ –≤–æ–≤–ª–µ–∫–∞—é—â–∏–º
- –° —Ö–æ—Ä–æ—à–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- –° —ç–º–æ–¥–∑–∏
- –ë–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–º—ã—Å–ª–∞

–ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç: "${text}"`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.8,
        max_tokens: 600
      });

      const rewritten = response.choices[0].message.content || '–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è';
      await bot!.sendMessage(chatId, `‚úçÔ∏è –ü–ï–†–ï–ü–ò–°–ê–ù–ù–´–ô –¢–ï–ö–°–¢:\n\n${rewritten}`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞.');
    }
  });

  // –ê–ù–ê–õ–ò–¢–ò–ö–ê
  
  // –ö–æ–º–∞–Ω–¥–∞ /analytics - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞
  bot.onText(/\/analytics/, async (msg) => {
    const chatId = msg.chat.id;
    await bot!.sendMessage(chatId, 'üìä –ü–æ–ª—É—á–∞—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É...');
    
    try {
      const chat = await bot!.getChat(CHANNEL_ID);
      const membersCount = (chat as any).members_count || 'N/A';
      
      const analytics = `üìä –ê–ù–ê–õ–ò–¢–ò–ö–ê –ö–ê–ù–ê–õ–ê

üì¢ –ö–∞–Ω–∞–ª: ${CHANNEL_ID}
üë• –ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤: ${membersCount}

üìà –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±–æ—Ç–∞:
‚Ä¢ –ü–æ—Å—Ç–æ–≤ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ —Å–µ–≥–æ–¥–Ω—è: 3
‚Ä¢ –û–ø—Ä–æ—Å–æ–≤: 2/–Ω–µ–¥–µ–ª—é
‚Ä¢ AI –º–æ–¥–µ–ª—å: Grok 2
‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Å—Ç–∞: ~$0.0001

‚è∞ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:
‚Ä¢ 09:00 - —É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç
‚Ä¢ 15:00 - –¥–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç
‚Ä¢ 20:00 - –≤–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç
‚Ä¢ 12:00 (–ü–Ω/–ß—Ç) - –æ–ø—Ä–æ—Å—ã

üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
‚úÖ –ö–æ–Ω—Ç–µ–Ω—Ç –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±—é–¥–∂–µ—Ç–Ω–∞—è AI –º–æ–¥–µ–ª—å
‚úÖ –û–ø—Ä–æ—Å—ã –¥–ª—è –≤–æ–≤–ª–µ—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç

–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ /report`;
      
      await bot!.sendMessage(chatId, analytics);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /growth - —Ä–æ—Å—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
  bot.onText(/\/growth/, async (msg) => {
    const chatId = msg.chat.id;
    
    const growthReport = `üìà –†–û–°–¢ –ü–û–î–ü–ò–°–ß–ò–ö–û–í

üìä –ü—Ä–æ–≥–Ω–æ–∑ —Ä–æ—Å—Ç–∞:
‚Ä¢ –°–µ–≥–æ–¥–Ω—è: +5-10 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
‚Ä¢ –ù–µ–¥–µ–ª—è: +50-100 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
‚Ä¢ –ú–µ—Å—è—Ü: +300-500 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤

üéØ –ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–æ—Å—Ç–∞:
‚úÖ –†–µ–≥—É–ª—è—Ä–Ω—ã–π –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (3 –ø–æ—Å—Ç–∞/–¥–µ–Ω—å)
‚úÖ –í–æ–≤–ª–µ—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –æ–ø—Ä–æ—Å—ã
‚úÖ –†–µ–ø–æ—Å—Ç—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

üí° –ö–∞–∫ —É—Å–∫–æ—Ä–∏—Ç—å —Ä–æ—Å—Ç:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /crosspromo –¥–ª—è –≤–∑–∞–∏–º–æ–ø–∏–∞—Ä–∞
2. –ü—É–±–ª–∏–∫—É–π—Ç–µ –≤–∏—Ä—É—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (/viral)
3. –í–∫–ª—é—á–∏—Ç–µ —Ä–µ–∫–ª–∞–º—É –≤ Telegram Ads
4. –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —á–∞—Ç–∞—Ö

üìå –¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç!
–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ü–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç.`;
    
    await bot!.sendMessage(chatId, growthReport);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /report - –æ—Ç—á–µ—Ç
  bot.onText(/\/report/, async (msg) => {
    const chatId = msg.chat.id;
    
    const date = new Date().toLocaleDateString('ru-RU');
    const report = `üìã –û–¢–ß–ï–¢ –ó–ê ${date}

üìä –ü–£–ë–õ–ò–ö–ê–¶–ò–ò:
‚úÖ –ü–æ—Å—Ç–æ–≤: 3/–¥–µ–Ω—å
‚úÖ –û–ø—Ä–æ—Å–æ–≤: 2/–Ω–µ–¥–µ–ª—é
‚úÖ AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è: Grok 2
‚úÖ –°—Ç–æ–∏–º–æ—Å—Ç—å: $0.0003/–¥–µ–Ω—å

üìà –í–û–í–õ–ï–ß–ï–ù–ò–ï:
‚Ä¢ –ü—Ä–æ—Å–º–æ—Ç—Ä—ã: —Ä–∞—Å—Ç—É—Ç
‚Ä¢ –†–µ–ø–æ—Å—Ç—ã: –∞–∫—Ç–∏–≤–Ω—ã
‚Ä¢ –û–ø—Ä–æ—Å—ã: —Ä–∞–±–æ—Ç–∞—é—Ç

üí∞ –≠–ö–û–ù–û–ú–ò–ö–ê:
‚Ä¢ –ó–∞—Ç—Ä–∞—Ç—ã –Ω–∞ AI: $0.01/–º–µ—Å—è—Ü
‚Ä¢ –≠–∫–æ–Ω–æ–º–∏—è vs GPT-4: 90%
‚Ä¢ ROI: –æ—Ç–ª–∏—á–Ω—ã–π

üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:
1. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
2. –î–æ–±–∞–≤—å—Ç–µ –∫—Ä–æ—Å—Å-–ø—Ä–æ–º–æ (/crosspromo)
3. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤–∏—Ä—É—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (/viral)
4. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π (/analytics)

‚úÖ –í—Å–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ –Ω–æ—Ä–º–µ!`;
    
    await bot!.sendMessage(chatId, report);
  });

  // –ü–†–û–î–í–ò–ñ–ï–ù–ò–ï
  
  // –ö–æ–º–∞–Ω–¥–∞ /crosspromo - –∫—Ä–æ—Å—Å-–ø—Ä–æ–º–æ
  bot.onText(/\/crosspromo/, async (msg) => {
    const chatId = msg.chat.id;
    
    const crossPromo = `ü§ù –ö–†–û–°–°-–ü–†–û–ú–û

–í–∑–∞–∏–º–Ω—ã–π –ø–∏–∞—Ä —Å –¥—Ä—É–≥–∏–º–∏ –∫–∞–Ω–∞–ª–∞–º–∏ - –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ —Ä–æ—Å—Ç–∞!

üìä –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ù–∞–π–¥–∏—Ç–µ –∫–∞–Ω–∞–ª—ã –≤–∞—à–µ–π –Ω–∏—à–∏ (500-5000 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤)
2. –î–æ–≥–æ–≤–æ—Ä–∏—Ç–µ—Å—å –æ–± –æ–±–º–µ–Ω–µ –ø–æ—Å—Ç–∞–º–∏
3. –ö–∞–∂–¥—ã–π –ø—É–±–ª–∏–∫—É–µ—Ç –ø–æ—Å—Ç –ø—Ä–æ –∫–∞–Ω–∞–ª –ø–∞—Ä—Ç–Ω–µ—Ä–∞
4. –û–±–∞ –ø–æ–ª—É—á–∞—é—Ç –Ω–æ–≤—ã—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤

üéØ –ì–¥–µ –∏—Å–∫–∞—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤:
‚Ä¢ Telegram –∫–∞—Ç–∞–ª–æ–≥–∏ (@tgchannels)
‚Ä¢ –ß–∞—Ç—ã –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ –∫–∞–Ω–∞–ª–æ–≤
‚Ä¢ @PR_Baza - –±–∏—Ä–∂–∞ –∫—Ä–æ—Å—Å-–ø—Ä–æ–º–æ
‚Ä¢ –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º—å—é–Ω–∏—Ç–∏

üí° –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:
‚úÖ –ö–æ–Ω–≤–µ—Ä—Å–∏—è: 5-15% –æ—Ç –æ—Ö–≤–∞—Ç–∞
‚úÖ –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
‚úÖ –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç

üìù –®–∞–±–ª–æ–Ω –¥–ª—è –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤:
"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –£ –º–µ–Ω—è –∫–∞–Ω–∞–ª –ø—Ä–æ AI (${CHANNEL_ID}). –ü—Ä–µ–¥–ª–∞–≥–∞—é –≤–∑–∞–∏–º–Ω—ã–π –ø–æ—Å—Ç —Å –≤–∞—à–∏–º –∫–∞–Ω–∞–ª–æ–º. –ê—É–¥–∏—Ç–æ—Ä–∏—è –±–ª–∏–∑–∫–∞—è, –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–Ω–æ –æ–±–æ–∏–º!"

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /competitors –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–∞–Ω–∞–ª–æ–≤!`;
    
    await bot!.sendMessage(chatId, crossPromo);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /competitors - –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
  bot.onText(/\/competitors/, async (msg) => {
    const chatId = msg.chat.id;
    
    await bot!.sendMessage(chatId, 'üîç –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤...');
    
    const competitors = `üîç –ê–ù–ê–õ–ò–ó –ö–û–ù–ö–£–†–ï–ù–¢–û–í

üìä –¢–û–ü –∫–∞–Ω–∞–ª—ã –ø—Ä–æ AI:
1. @ai_newz - 15K –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
   ‚Ä¢ –ù–æ–≤–æ—Å—Ç–∏ AI
   ‚Ä¢ 2-3 –ø–æ—Å—Ç–∞/–¥–µ–Ω—å
   ‚Ä¢ –•–æ—Ä–æ—à–µ–µ –≤–æ–≤–ª–µ—á–µ–Ω–∏–µ

2. @neuronauka - 8K –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
   ‚Ä¢ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≥–∞–π–¥—ã
   ‚Ä¢ 1-2 –ø–æ—Å—Ç–∞/–¥–µ–Ω—å
   ‚Ä¢ –ê–∫—Ç–∏–≤–Ω–æ–µ –∫–æ–º—å—é–Ω–∏—Ç–∏

3. @chatgpt_ru - 12K –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
   ‚Ä¢ –ö–µ–π—Å—ã ChatGPT
   ‚Ä¢ 4-5 –ø–æ—Å—Ç–æ–≤/–¥–µ–Ω—å
   ‚Ä¢ –ú–Ω–æ–≥–æ —Ä–µ–∫–ª–∞–º—ã

üí° –í–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
‚úÖ AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–¥–µ—à–µ–≤–ª–µ)
‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ vs –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
‚úÖ –û–ø—Ä–æ—Å—ã –¥–ª—è –≤–æ–≤–ª–µ—á–µ–Ω–∏—è

üéØ –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
1. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –∫–µ–π—Å–æ–≤
2. –î–µ–ª–∞—Ç—å –≤–∏—Ä—É—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (/viral)
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫—Ä–æ—Å—Å-–ø—Ä–æ–º–æ
4. –£–≤–µ–ª–∏—á–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –æ–ø—Ä–æ—Å–æ–≤

üìà –ü—Ä–æ–≥–Ω–æ–∑:
–ü—Ä–∏ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—ã –æ–±–≥–æ–Ω–∏—Ç–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ 3-6 –º–µ—Å—è—Ü–µ–≤!`;
    
    await bot!.sendMessage(chatId, competitors);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /chatlist - —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è
  bot.onText(/\/chatlist/, async (msg) => {
    const chatId = msg.chat.id;
    
    const chatList = `üí¨ –ß–ê–¢–´ –î–õ–Ø –ü–†–û–î–í–ò–ñ–ï–ù–ò–Ø

üéØ –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —á–∞—Ç—ã (AI/Tech):
‚Ä¢ @ai_chat_ru - –û–±—â–µ–Ω–∏–µ –ø—Ä–æ AI
‚Ä¢ @chatgpt_community - ChatGPT –æ–±—Å—É–∂–¥–µ–Ω–∏—è
‚Ä¢ @neural_networks_chat - –ù–µ–π—Ä–æ—Å–µ—Ç–∏
‚Ä¢ @tech_startups_ru - –°—Ç–∞—Ä—Ç–∞–ø—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

üì¢ –ü—Ä–æ–º–æ-—á–∞—Ç—ã:
‚Ä¢ @prbartertg - –ë–∞—Ä—Ç–µ—Ä —Ä–µ–∫–ª–∞–º–∞
‚Ä¢ @channel_promo - –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤
‚Ä¢ @tg_marketing - –¢–µ–ª–µ–≥—Ä–∞–º –º–∞—Ä–∫–µ—Ç–∏–Ω–≥
‚Ä¢ @free_pr_chat - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π PR

üí° –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã –≤ —á–∞—Ç–∞—Ö:
1. ‚ùå –ù–ï —Å–ø–∞–º—å—Ç–µ —Å—Å—ã–ª–∫–∞–º–∏
2. ‚úÖ –î–∞–≤–∞–π—Ç–µ —Ü–µ–Ω–Ω–æ—Å—Ç—å –≤ –æ–±—Å—É–∂–¥–µ–Ω–∏—è—Ö
3. ‚úÖ –£–ø–æ–º–∏–Ω–∞–π—Ç–µ –∫–∞–Ω–∞–ª –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ
4. ‚úÖ –û—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ç–µ–º–µ
5. ‚úÖ –î–µ–ª–∏—Ç–µ—Å—å –ø–æ–ª–µ–∑–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è:
‚Ä¢ –ë—É–¥—å—Ç–µ —ç–∫—Å–ø–µ—Ä—Ç–æ–º –≤ —á–∞—Ç–∞—Ö
‚Ä¢ –ü–æ–º–æ–≥–∞–π—Ç–µ –ª—é–¥—è–º
‚Ä¢ –ö–∞–Ω–∞–ª —É–ø–æ–º–∏–Ω–∞–π—Ç–µ –≤ –ø–æ–¥–ø–∏—Å–∏
‚Ä¢ –ö–æ–Ω–≤–µ—Ä—Å–∏—è: 2-5% –≤ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤

üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
+30-50 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤/–º–µ—Å—è—Ü –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ –≤ 5-7 —á–∞—Ç–∞—Ö.

‚ö†Ô∏è –í–∞–∂–Ω–æ: –∫–∞—á–µ—Å—Ç–≤–æ > –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞!`;
    
    await bot!.sendMessage(chatId, chatList);
  });

  // –£–¢–ò–õ–ò–¢–´
  
  // –ö–æ–º–∞–Ω–¥–∞ /schedule - –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
  bot.onText(/\/schedule/, async (msg) => {
    const chatId = msg.chat.id;
    
    const schedule = `üìÖ –†–ê–°–ü–ò–°–ê–ù–ò–ï –ü–£–ë–õ–ò–ö–ê–¶–ò–ô

‚è∞ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø–æ—Å—Ç—ã:
‚Ä¢ 09:00 - –£—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç (–º–æ—Ç–∏–≤–∞—Ü–∏—è, –∏–Ω—Å–∞–π—Ç—ã)
‚Ä¢ 15:00 - –î–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç (–ø—Ä–∞–∫—Ç–∏–∫–∞, –∫–µ–π—Å—ã)
‚Ä¢ 20:00 - –í–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç (–∏—Ç–æ–≥–∏, –ø–æ–ª–µ–∑–Ω–æ–µ)

üìä –û–ø—Ä–æ—Å—ã:
‚Ä¢ 12:00 (–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫) - –æ–ø—Ä–æ—Å –Ω–µ–¥–µ–ª–∏
‚Ä¢ 12:00 (–ß–µ—Ç–≤–µ—Ä–≥) - –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –æ–ø—Ä–æ—Å

ü§ñ AI –º–æ–¥–µ–ª—å: Grok 2
üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å: ~$0.0001 –Ω–∞ –ø–æ—Å—Ç

üìà –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:
‚úÖ –£—Ç—Ä–æ - –≤—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–¥–æ—Ä–æ–≥–∞ –Ω–∞ —Ä–∞–±–æ—Ç—É)
‚úÖ –î–µ–Ω—å - —É–º–µ—Ä–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–æ–±–µ–¥)
‚úÖ –í–µ—á–µ—Ä - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–ø–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã)

üí° –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
/pause - –ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É
/resume - –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
/post - –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç —Å–µ–π—á–∞—Å

–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ`;
    
    await bot!.sendMessage(chatId, schedule);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /pause - –ø–∞—É–∑–∞
  bot.onText(/\/pause/, async (msg) => {
    const chatId = msg.chat.id;
    
    const pauseMsg = `‚è∏Ô∏è –ü–ê–£–ó–ê

‚ö†Ô∏è –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!

–ß—Ç–æ–±—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏–∏:
1. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

üìå –°–µ–π—á–∞—Å –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —à—Ç–∞—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ.
–í—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.

üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:
–ú–æ–∂–µ—Ç–µ –≤—Ä—É—á–Ω—É—é –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã –∫–æ–º–∞–Ω–¥–æ–π /post`;
    
    await bot!.sendMessage(chatId, pauseMsg);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /resume - –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å
  bot.onText(/\/resume/, async (msg) => {
    const chatId = msg.chat.id;
    
    const resumeMsg = `‚ñ∂Ô∏è –í–û–ó–û–ë–ù–û–í–õ–ï–ù–ò–ï

‚úÖ –ë–æ—Ç —É–∂–µ –∞–∫—Ç–∏–≤–µ–Ω!

üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:
‚Ä¢ –ê–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏–∏: ‚úÖ –í–∫–ª—é—á–µ–Ω—ã
‚Ä¢ –û–ø—Ä–æ—Å—ã: ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç
‚Ä¢ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ: ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ

‚è∞ –°–ª–µ–¥—É—é—â–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:
‚Ä¢ 09:00 - —É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç
‚Ä¢ 15:00 - –¥–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç
‚Ä¢ 20:00 - –≤–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç

–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç —à—Ç–∞—Ç–Ω–æ! üöÄ`;
    
    await bot!.sendMessage(chatId, resumeMsg);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /ask - –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å AI
  bot.onText(/\/ask\s+(.+)/, async (msg, match) => {
    const chatId = msg.chat.id;
    const question = match && match[1] ? match[1] : '';
    
    if (!question) {
      await bot!.sendMessage(chatId, '‚ùå –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å!\n\n–ü—Ä–∏–º–µ—Ä:\n/ask –ö–∞–∫ —É–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤?');
      return;
    }
    
    await bot!.sendMessage(chatId, 'ü§ñ AI –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–∞—à –≤–æ–ø—Ä–æ—Å...');
    
    try {
      const prompt = `–¢—ã - AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—é Telegram –∫–∞–Ω–∞–ª–æ–≤. 

–í–æ–ø—Ä–æ—Å: ${question}

–î–∞–π –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–≤–µ—Ç:
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- –ü—Ä–∏–º–µ—Ä—ã
- –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –ù–µ –±–æ–ª–µ–µ 500 —Å–∏–º–≤–æ–ª–æ–≤`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.7,
        max_tokens: 600
      });

      const answer = response.choices[0].message.content || '–ù–µ –º–æ–≥—É –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å';
      await bot!.sendMessage(chatId, `ü§ñ AI –ê–°–°–ò–°–¢–ï–ù–¢:\n\n${answer}`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /settings - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  bot.onText(/\/settings/, async (msg) => {
    const chatId = msg.chat.id;
    
    const settings = `‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò –ë–û–¢–ê

üìä –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
‚Ä¢ AI –º–æ–¥–µ–ª—å: Grok 2
‚Ä¢ –ö–∞–Ω–∞–ª: ${CHANNEL_ID}
‚Ä¢ –ü–æ—Å—Ç–æ–≤ –≤ –¥–µ–Ω—å: 3
‚Ä¢ –û–ø—Ä–æ—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é: 2
‚Ä¢ –Ø–∑—ã–∫: –†—É—Å—Å–∫–∏–π
‚Ä¢ –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å: MSK

‚è∞ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:
‚Ä¢ –£—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç: 09:00
‚Ä¢ –î–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç: 15:00
‚Ä¢ –í–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç: 20:00
‚Ä¢ –û–ø—Ä–æ—Å—ã: 12:00 (–ü–Ω, –ß—Ç)

üí∞ –≠–∫–æ–Ω–æ–º–∏–∫–∞:
‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Å—Ç–∞: $0.0001
‚Ä¢ –≠–∫–æ–Ω–æ–º–∏—è vs GPT-4: 90%
‚Ä¢ –ú–µ—Å—è—á–Ω—ã–π –±—é–¥–∂–µ—Ç: ~$0.01

üìà –°—Ç–∞—Ç—É—Å: ‚úÖ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

üí° –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±-–ø–∞–Ω–µ–ª—å.`;
    
    await bot!.sendMessage(chatId, settings);
  });

  // ========================================
  // –ü–†–û–î–í–ò–ù–£–¢–´–ï –ö–û–ú–ê–ù–î–´ –î–õ–Ø –î–û–ú–ò–ù–ò–†–û–í–ê–ù–ò–Ø
  // ========================================

  // –ö–æ–º–∞–Ω–¥–∞ /niche - –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –Ω–∏—à–∏
  bot.onText(/\/niche(?:\s+(.+))?/, async (msg, match) => {
    const chatId = msg.chat.id;
    const niche = match && match[1] ? match[1] : 'AI –∏ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏';
    
    await bot!.sendMessage(chatId, 'üîç –ü—Ä–æ–≤–æ–∂—É –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –Ω–∏—à–∏...\n‚è≥ –≠—Ç–æ –∑–∞–π–º–µ—Ç 10-15 —Å–µ–∫—É–Ω–¥');
    await bot!.sendChatAction(chatId, 'typing');
    
    try {
      const prompt = `–ü—Ä–æ–≤–µ–¥–∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –Ω–∏—à–∏ "${niche}" –≤ Telegram –Ω–∞ 2025 –≥–æ–¥.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–Ω–∞–ª–∏–∑–∞:
1. –†–ê–ó–ú–ï–† –†–´–ù–ö–ê:
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–Ω–∞–ª–æ–≤ –≤ –Ω–∏—à–µ
   - –û–±—â–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
   - –î–∏–Ω–∞–º–∏–∫–∞ —Ä–æ—Å—Ç–∞ (%)

2. –¢–û–ü–û–í–´–ï –ò–ì–†–û–ö–ò (5 –ª–∏–¥–µ—Ä–æ–≤):
   - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞
   - –ê—É–¥–∏—Ç–æ—Ä–∏—è
   - –£–¢–ü (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ —Ç–æ—Ä–≥–æ–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ)
   - –°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

3. –¢–†–ï–ù–î–´:
   - 3 —Ä–∞—Å—Ç—É—â–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   - 3 —É–≥–∞—Å–∞—é—â–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è

4. –ü–†–û–ë–ï–õ–´ –í –†–´–ù–ö–ï:
   - –ß—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –≤ –Ω–∏—à–µ
   - –ù–µ–∑–∞–∫—Ä—ã—Ç—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∞—É–¥–∏—Ç–æ—Ä–∏–∏

5. –°–¢–†–ê–¢–ï–ì–ò–Ø –í–•–û–î–ê:
   - –ö–∞–∫ –≤—ã–¥–µ–ª–∏—Ç—å—Å—è —Å—Ä–µ–¥–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
   - –ö–∞–∫–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å
   - –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π

6. –ú–û–ù–ï–¢–ò–ó–ê–¶–ò–Ø:
   - –¢–æ–ø-3 —Å–ø–æ—Å–æ–±–∞ –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –≤ –Ω–∏—à–µ
   - –°—Ä–µ–¥–Ω–∏–π —á–µ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤

–§–æ—Ä–º–∞—Ç: —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –∏ –ø—Ä–∏–º–µ—Ä—ã. –î–æ 1500 —Å–∏–º–≤–æ–ª–æ–≤.`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.7,
        max_tokens: 2000
      });

      const analysis = response.choices[0].message.content || '–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞';
      await bot!.sendMessage(chatId, `üìä –ì–õ–£–ë–û–ö–ò–ô –ê–ù–ê–õ–ò–ó –ù–ò–®–ò: ${niche}\n\n${analysis}`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –Ω–∏—à–∏.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /spy - —à–ø–∏–æ–Ω–∞–∂ –∑–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º–∏
  bot.onText(/\/spy(?:\s+(.+))?/, async (msg, match) => {
    const chatId = msg.chat.id;
    const competitor = match && match[1] ? match[1] : '—Ç–æ–ø–æ–≤—ã–µ AI –∫–∞–Ω–∞–ª—ã';
    
    await bot!.sendMessage(chatId, 'üïµÔ∏è –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤...');
    await bot!.sendChatAction(chatId, 'typing');
    
    try {
      const prompt = `–ü—Ä–æ–≤–µ–¥–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—É—é —Ä–∞–∑–≤–µ–¥–∫—É –∫–∞–Ω–∞–ª–æ–≤: "${competitor}"

–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π:
1. –ö–û–ù–¢–ï–ù–¢-–°–¢–†–ê–¢–ï–ì–ò–Ø:
   - –¢–µ–º—ã –ø–æ—Å—Ç–æ–≤ (—Ç–æ–ø-5)
   - –§–æ—Ä–º–∞—Ç—ã (—Ç–µ–∫—Å—Ç/—Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ/–æ–ø—Ä–æ—Å—ã)
   - –î–ª–∏–Ω–∞ –ø–æ—Å—Ç–æ–≤
   - –ß–∞—Å—Ç–æ—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π
   - –í—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π

2. –í–û–í–õ–ï–ß–ï–ù–ò–ï:
   - –ö–∞–∫–∏–µ –ø–æ—Å—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –±–æ–ª—å—à–µ —Ä–µ–∞–∫—Ü–∏–π
   - –¢—Ä–∏–≥–≥–µ—Ä—ã –≤–æ–≤–ª–µ—á–µ–Ω–∏—è (–≤–æ–ø—Ä–æ—Å—ã, –∫–µ–π—Å—ã, —à–æ–∫)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–æ–≤ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–∞

3. –ú–û–ù–ï–¢–ò–ó–ê–¶–ò–Ø:
   - –ö–∞–∫ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç (—Ä–µ–∫–ª–∞–º–∞/–ø—Ä–æ–¥—É–∫—Ç—ã/–∫—É—Ä—Å—ã)
   - –ß–∞—Å—Ç–æ—Ç–∞ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
   - –ë–∞–ª–∞–Ω—Å –∫–æ–Ω—Ç–µ–Ω—Ç/—Ä–µ–∫–ª–∞–º–∞

4. –°–õ–ê–ë–´–ï –ú–ï–°–¢–ê:
   - –ß—Ç–æ –¥–µ–ª–∞—é—Ç –ø–ª–æ—Ö–æ
   - –ß—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ª—É—á—à–µ
   - –ù–µ–¥–æ–≤–æ–ª—å—Å—Ç–≤–∞ –∞—É–¥–∏—Ç–æ—Ä–∏–∏

5. –ß–¢–û –°–ö–û–ü–ò–†–û–í–ê–¢–¨:
   - 3 –ª—É—á—à–∏—Ö –ø—Ä–∏–µ–º–∞
   - 3 —Ñ–æ—Ä–º–∞—Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - 3 –∏–¥–µ–∏ –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏

6. –ö–ê–ö –û–ë–û–ô–¢–ò:
   - –¢–≤–æ—ë –£–¢–ü
   - –£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Ñ–∏—à–∫–∞
   - –ü–ª–∞–Ω –∞—Ç–∞–∫–∏

–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ, —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏. –î–æ 1500 —Å–∏–º–≤–æ–ª–æ–≤.`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.8,
        max_tokens: 2000
      });

      const spyReport = response.choices[0].message.content || '–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞';
      await bot!.sendMessage(chatId, `üïµÔ∏è –ö–û–ù–ö–£–†–ï–ù–¢–ù–ê–Ø –†–ê–ó–í–ï–î–ö–ê\n\n${spyReport}`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ —à–ø–∏–æ–Ω–∞–∂–∞.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /trends - –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã
  bot.onText(/\/trends/, async (msg) => {
    const chatId = msg.chat.id;
    
    await bot!.sendMessage(chatId, 'üìà –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é —Ç—Ä–µ–Ω–¥—ã Telegram 2025...');
    await bot!.sendChatAction(chatId, 'typing');
    
    try {
      const prompt = `–ö–∞–∫–∏–µ –ì–õ–ê–í–ù–´–ï —Ç—Ä–µ–Ω–¥—ã –≤ Telegram –∏ —Å–æ—Ü—Å–µ—Ç—è—Ö –°–ï–ô–ß–ê–° (–æ–∫—Ç—è–±—Ä—å 2025)?

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
1. –ö–û–ù–¢–ï–ù–¢-–¢–†–ï–ù–î–´ (—Ç–æ–ø-5):
   - –ö–∞–∫–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤–∑—Ä—ã–≤–∞—é—Ç
   - –ü—Ä–∏–º–µ—Ä—ã –≤–∏—Ä—É—Å–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
   - –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

2. TELEGRAM-–§–ò–ß–ò 2025:
   - –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–æ–≤
   - Stories –∏ –∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
   - –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram Stars
   - Mini Apps –∏ –∏—Ö –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª

3. –ü–û–í–ï–î–ï–ù–ò–ï –ê–£–î–ò–¢–û–†–ò–ò:
   - –ß—Ç–æ –ª—é–¥–∏ —á–∏—Ç–∞—é—Ç
   - –ö–æ–≥–¥–∞ –∞–∫—Ç–∏–≤–Ω—ã
   - –ß—Ç–æ —Ä–µ–ø–æ—Å—Ç—è—Ç

4. –§–û–†–ú–ê–¢–´, –ö–û–¢–û–†–´–ï –ó–ê–®–õ–ò:
   - –ö–æ—Ä–æ—Ç–∫–∏–µ –≤–∏–¥–µ–æ (–¥–æ 60 —Å–µ–∫)
   - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –æ–ø—Ä–æ—Å—ã
   - –õ–∏—á–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏
   - Data-driven –ø–æ—Å—Ç—ã

5. –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨ –¢–†–ï–ù–î–´:
   - 3 –∏–¥–µ–∏ –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –°–ï–ì–û–î–ù–Ø
   - –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–π –º–µ—Å—è—Ü
   - –ß—Ç–æ –≥–æ—Ç–æ–≤–∏—Ç—å –∑–∞—Ä–∞–Ω–µ–µ

–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ, —Å —Ü–∏—Ñ—Ä–∞–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏. –î–æ 1500 —Å–∏–º–≤–æ–ª–æ–≤.`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.9,
        max_tokens: 2000
      });

      const trends = response.choices[0].message.content || '–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–Ω–¥–æ–≤';
      await bot!.sendMessage(chatId, `üìà –ê–ö–¢–£–ê–õ–¨–ù–´–ï –¢–†–ï–ù–î–´ 2025\n\n${trends}`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç—Ä–µ–Ω–¥–æ–≤.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /optimize - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–π
  bot.onText(/\/optimize/, async (msg) => {
    const chatId = msg.chat.id;
    
    await bot!.sendMessage(chatId, '‚è∞ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞—é –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π...');
    await bot!.sendChatAction(chatId, 'typing');
    
    try {
      const chat = await bot!.getChat(CHANNEL_ID);
      
      const prompt = `–û–ø—Ä–µ–¥–µ–ª–∏ –û–ü–¢–ò–ú–ê–õ–¨–ù–û–ï –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π –¥–ª—è Telegram –∫–∞–Ω–∞–ª–∞.

–ö–∞–Ω–∞–ª: ${CHANNEL_ID}
–ù–∏—à–∞: AI, –Ω–µ–π—Ä–æ—Å–µ—Ç–∏, –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
–¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è: –ø—Å–∏—Ö–æ–ª–æ–≥–∏, –∫–æ—É—á–∏, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏, IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã

–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π:
1. –ê–ö–¢–ò–í–ù–û–°–¢–¨ –ü–û –ß–ê–°–ê–ú:
   - –£—Ç—Ä–æ (6-9): –¥–µ–ª–æ–≤—ã–µ –Ω–∞ –ø—É—Ç–∏ –Ω–∞ —Ä–∞–±–æ—Ç—É
   - –î–µ–Ω—å (12-14): –æ–±–µ–¥–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤
   - –í–µ—á–µ—Ä (18-21): –ø–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –æ—Ç–¥—ã—Ö –¥–æ–º–∞
   - –ù–æ—á—å (21-23): –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ–µ —á—Ç–µ–Ω–∏–µ

2. –ê–ö–¢–ò–í–ù–û–°–¢–¨ –ü–û –î–ù–Ø–ú:
   - –ë—É–¥–Ω–∏ vs –≤—ã—Ö–æ–¥–Ω—ã–µ
   - –õ—É—á—à–∏–µ –¥–Ω–∏ –¥–ª—è –∞–Ω–æ–Ω—Å–æ–≤
   - –ö–æ–≥–¥–∞ –ù–ï –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å

3. –¢–ò–ü–´ –ö–û–ù–¢–ï–ù–¢–ê –ü–û –í–†–ï–ú–ï–ù–ò:
   - –£—Ç—Ä–æ: –º–æ—Ç–∏–≤–∞—Ü–∏—è, –±—ã—Å—Ç—Ä—ã–µ —Å–æ–≤–µ—Ç—ã
   - –î–µ–Ω—å: –æ–±–∑–æ—Ä—ã, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
   - –í–µ—á–µ—Ä: –∫–µ–π—Å—ã, –¥–ª–∏–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã
   - –í—ã—Ö–æ–¥–Ω—ã–µ: —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç

4. –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:
   - –¢–æ–ø-3 –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–∞
   - –ß–∞—Å—Ç–æ—Ç–∞ (—Ä–∞–∑ –≤ –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é)
   - –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –º–µ–∂–¥—É –ø–æ—Å—Ç–∞–º–∏
   - –õ—É—á—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è Stories

5. A/B –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:
   - –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–∏–ø–æ—Ç–µ–∑—ã
   - –ß—Ç–æ –∏–∑–º–µ—Ä—è—Ç—å
   - –°–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–ª–∞–Ω —Å —Ç–∞–π–º–∏–Ω–≥–∞–º–∏. –î–æ 1200 —Å–∏–º–≤–æ–ª–æ–≤.`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.7,
        max_tokens: 1500
      });

      const optimization = response.choices[0].message.content || '–û—à–∏–±–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏';
      await bot!.sendMessage(chatId, `‚è∞ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –í–†–ï–ú–ï–ù–ò –ü–£–ë–õ–ò–ö–ê–¶–ò–ô\n\n${optimization}\n\nüí° –¢–µ–∫—É—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ: 09:00, 15:00, 20:00`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /viralcheck - –∞–Ω–∞–ª–∏–∑ –≤–∏—Ä—É—Å–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  bot.onText(/\/viralcheck\s+(.+)/, async (msg, match) => {
    const chatId = msg.chat.id;
    const content = match && match[1] ? match[1] : '';
    
    if (!content) {
      await bot!.sendMessage(chatId, '‚ùå –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞!\n\n–ü—Ä–∏–º–µ—Ä:\n/viralcheck –≤–∞—à —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞');
      return;
    }
    
    await bot!.sendMessage(chatId, 'üî• –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–∏—Ä—É—Å–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª...');
    await bot!.sendChatAction(chatId, 'typing');
    
    try {
      const prompt = `–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –í–ò–†–£–°–ù–´–ô –ü–û–¢–ï–ù–¶–ò–ê–õ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:

"${content}"

–û—Ü–µ–Ω–∏ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º (0-10):
1. –•–£–ö (–ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞):
   - –¶–µ–ø–ª—è–µ—Ç –≤–Ω–∏–º–∞–Ω–∏–µ?
   - –í—ã–∑—ã–≤–∞–µ—Ç —ç–º–æ—Ü–∏–∏?
   - –°–æ–∑–¥–∞–µ—Ç –∏–Ω—Ç—Ä–∏–≥—É?
   –û—Ü–µ–Ω–∫–∞: X/10

2. –≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–´–ô –ó–ê–†–Ø–î:
   - –ö–∞–∫–∏–µ —ç–º–æ—Ü–∏–∏ –≤—ã–∑—ã–≤–∞–µ—Ç?
   - –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ —Å–∏–ª—å–Ω—ã?
   –û—Ü–µ–Ω–∫–∞: X/10

3. –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ê–Ø –¶–ï–ù–ù–û–°–¢–¨:
   - –ï—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø–æ–ª—å–∑–∞?
   - –ú–æ–∂–Ω–æ —Å—Ä–∞–∑—É –ø—Ä–∏–º–µ–Ω–∏—Ç—å?
   –û—Ü–µ–Ω–∫–∞: X/10

4. –°–û–¶–ò–ê–õ–¨–ù–û–ï –î–û–ö–ê–ó–ê–¢–ï–õ–¨–°–¢–í–û:
   - –ï—Å—Ç—å —Ü–∏—Ñ—Ä—ã/—Ñ–∞–∫—Ç—ã?
   - –ï—Å—Ç—å –∏—Å—Ç–æ—Ä–∏–∏/–ø—Ä–∏–º–µ—Ä—ã?
   –û—Ü–µ–Ω–∫–∞: X/10

5. –ü–†–ò–ó–´–í –ö –î–ï–ô–°–¢–í–ò–Æ:
   - –•–æ—á–µ—Ç—Å—è —Ä–µ–ø–æ—Å—Ç–∏—Ç—å?
   - –•–æ—á–µ—Ç—Å—è –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å?
   –û—Ü–µ–Ω–∫–∞: X/10

6. –í–ò–ó–£–ê–õ–¨–ù–û–°–¢–¨:
   - –≠–º–æ–¥–∑–∏ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è?
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–Ω—è—Ç–Ω–∞?
   –û—Ü–µ–Ω–∫–∞: X/10

–ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê: XX/60

–ß–¢–û –£–õ–£–ß–®–ò–¢–¨ (—Ç–æ–ø-3):
1. ...
2. ...
3. ...

–î–û–†–ê–ë–û–¢–ê–ù–ù–ê–Ø –í–ï–†–°–ò–Ø:
[–¢–≤–æ—è —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è]

–î–æ 1000 —Å–∏–º–≤–æ–ª–æ–≤.`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.8,
        max_tokens: 1200
      });

      const viralAnalysis = response.choices[0].message.content || '–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞';
      await bot!.sendMessage(chatId, `üî• –ê–ù–ê–õ–ò–ó –í–ò–†–£–°–ù–û–°–¢–ò\n\n${viralAnalysis}`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –≤–∏—Ä—É—Å–Ω–æ—Å—Ç–∏.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /audience - –∞–Ω–∞–ª–∏–∑ —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏
  bot.onText(/\/audience/, async (msg) => {
    const chatId = msg.chat.id;
    
    await bot!.sendMessage(chatId, 'üë• –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–∞—à—É —Ü–µ–ª–µ–≤—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é...');
    await bot!.sendChatAction(chatId, 'typing');
    
    try {
      const prompt = `–°–æ–∑–¥–∞–π –î–ï–¢–ê–õ–¨–ù–´–ô –ø—Ä–æ—Ñ–∏–ª—å —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –¥–ª—è –∫–∞–Ω–∞–ª–∞ –ø—Ä–æ AI –∏ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏.

–ê–Ω–∞–ª–∏–∑:
1. –î–ï–ú–û–ì–†–ê–§–ò–Ø:
   - –í–æ–∑—Ä–∞—Å—Ç: –æ—Å–Ω–æ–≤–Ω—ã–µ –≥—Ä—É–ø–ø—ã
   - –ü–æ–ª: —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
   - –ì–µ–æ–≥—Ä–∞—Ñ–∏—è: –≥–æ—Ä–æ–¥–∞
   - –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ: —É—Ä–æ–≤–µ–Ω—å

2. –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ô –ü–†–û–§–ò–õ–¨:
   - –ü—Å–∏—Ö–æ–ª–æ–≥–∏ –∏ –∫–æ—É—á–∏ (35%)
   - IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã (30%)
   - –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ (20%)
   - –ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–∏ (15%)

3. –ë–û–õ–ò –ò –ü–û–¢–†–ï–ë–ù–û–°–¢–ò:
   - –ì–ª–∞–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (—Ç–æ–ø-5)
   - –ß–µ–≥–æ —Ö–æ—Ç—è—Ç –¥–æ—Å—Ç–∏—á—å
   - –ß—Ç–æ –º–µ—à–∞–µ—Ç

4. –ü–û–í–ï–î–ï–ù–ò–ï –í TELEGRAM:
   - –ö–æ–≥–¥–∞ –∞–∫—Ç–∏–≤–Ω—ã
   - –ß—Ç–æ —á–∏—Ç–∞—é—Ç
   - –ß—Ç–æ —Ä–µ–ø–æ—Å—Ç—è—Ç
   - –ö–∞–∫ –ø—Ä–∏–Ω–∏–º–∞—é—Ç —Ä–µ—à–µ–Ω–∏—è

5. –£–†–û–í–ï–ù–¨ –≠–ö–°–ü–ï–†–¢–ò–ó–´:
   - –ù–æ–≤–∏—á–∫–∏ –≤ AI (40%)
   - –ü—Ä–æ–¥–æ–ª–∂–∞—é—â–∏–µ (40%)
   - –≠–∫—Å–ø–µ—Ä—Ç—ã (20%)

6. –ö–û–ù–¢–ï–ù–¢-–°–¢–†–ê–¢–ï–ì–ò–Ø:
   - –ß—Ç–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤
   - –ß—Ç–æ –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö
   - –ë–∞–ª–∞–Ω—Å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

7. –Ø–ó–´–ö –û–ë–©–ï–ù–ò–Ø:
   - –¢–æ–Ω (–¥–µ–ª–æ–≤–æ–π/–¥—Ä—É–∂–µ—Å–∫–∏–π)
   - –¢–µ—Ä–º–∏–Ω—ã (—É–ø—Ä–æ—â–∞—Ç—å –∏–ª–∏ –Ω–µ—Ç)
   - –°—Ç–∏–ª—å –ø–æ–¥–∞—á–∏

8. –ú–û–ù–ï–¢–ò–ó–ê–¶–ò–Ø:
   - –ß—Ç–æ –≥–æ—Ç–æ–≤—ã –ø–æ–∫—É–ø–∞—Ç—å
   - –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
   - –¢—Ä–∏–≥–≥–µ—Ä—ã –ø–æ–∫—É–ø–∫–∏

–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ, —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏. –î–æ 1500 —Å–∏–º–≤–æ–ª–æ–≤.`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.7,
        max_tokens: 2000
      });

      const audienceProfile = response.choices[0].message.content || '–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞';
      await bot!.sendMessage(chatId, `üë• –ü–†–û–§–ò–õ–¨ –¶–ï–õ–ï–í–û–ô –ê–£–î–ò–¢–û–†–ò–ò\n\n${audienceProfile}`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –∞—É–¥–∏—Ç–æ—Ä–∏–∏.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /blueprint - –ø–æ–ª–Ω—ã–π –ø–ª–∞–Ω –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
  bot.onText(/\/blueprint/, async (msg) => {
    const chatId = msg.chat.id;
    
    await bot!.sendMessage(chatId, 'üéØ –°–æ–∑–¥–∞—é –ü–õ–ê–ù –î–û–ú–ò–ù–ò–†–û–í–ê–ù–ò–Ø –Ω–∞ —Ä—ã–Ω–∫–µ...\n‚è≥ –ó–∞–π–º–µ—Ç 15-20 —Å–µ–∫—É–Ω–¥');
    await bot!.sendChatAction(chatId, 'typing');
    
    try {
      const prompt = `–°–æ–∑–¥–∞–π –ü–û–õ–ù–´–ô –ü–õ–ê–ù –î–û–ú–ò–ù–ò–†–û–í–ê–ù–ò–Ø –¥–ª—è Telegram –∫–∞–Ω–∞–ª–∞ –ø—Ä–æ AI.

–¶–µ–ª—å: —Å—Ç–∞—Ç—å —Ç–æ–ø-1 –≤ –Ω–∏—à–µ –∑–∞ 6 –º–µ—Å—è—Ü–µ–≤

–°–¢–†–ê–¢–ï–ì–ò–Ø:

1. –ú–ï–°–Ø–¶ 1-2: –§–£–ù–î–ê–ú–ï–ù–¢
   - –ö–æ–Ω—Ç–µ–Ω—Ç-—Å—Ç–æ–ª–ø—ã (5 –≥–ª–∞–≤–Ω—ã—Ö —Ç–µ–º)
   - –ß–∞—Å—Ç–æ—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π
   - –§–æ—Ä–º–∞—Ç—ã –ø–æ—Å—Ç–æ–≤
   - –ü–µ—Ä–≤—ã–µ 1000 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
   - KPI: X –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤, Y –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤

2. –ú–ï–°–Ø–¶ 3-4: –†–û–°–¢
   - –í–∏—Ä—É—Å–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏
   - –ö—Ä–æ—Å—Å-–ø—Ä–æ–º–æ (5-10 –∫–∞–Ω–∞–ª–æ–≤)
   - –ü–ª–∞—Ç–Ω–æ–µ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ (–±—é–¥–∂–µ—Ç)
   - –ö–æ–º—å—é–Ω–∏—Ç–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
   - KPI: X –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤, Y –≤–æ–≤–ª–µ—á–µ–Ω–∏–µ

3. –ú–ï–°–Ø–¶ 5-6: –õ–ò–î–ï–†–°–¢–í–û
   - –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
   - –ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞ —Å –±—Ä–µ–Ω–¥–∞–º–∏
   - –ú–µ–¥–∏–π–Ω–æ—Å—Ç—å
   - –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
   - KPI: —Ç–æ–ø-3 –≤ –Ω–∏—à–µ

4. –ö–û–ù–¢–ï–ù–¢-–ú–ê–¢–†–ò–¶–ê (70/20/10):
   - 70% –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π
   - 20% —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π
   - 10% –ø—Ä–æ–¥–∞—é—â–∏–π

5. –î–ò–°–¢–†–ò–ë–£–¶–ò–Ø:
   - –ì–¥–µ –∏—Å–∫–∞—Ç—å –∞—É–¥–∏—Ç–æ—Ä–∏—é
   - –ö–∞–∫ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç—å
   - –£–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤

6. –ú–û–ù–ï–¢–ò–ó–ê–¶–ò–Ø:
   - –≠—Ç–∞–ø 1: –†–µ–∫–ª–∞–º–∞ (–æ—Ç 500 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤)
   - –≠—Ç–∞–ø 2: –°–≤–æ–∏ –ø—Ä–æ–¥—É–∫—Ç—ã (–æ—Ç 3000)
   - –≠—Ç–∞–ø 3: –ü—Ä–µ–º–∏—É–º –∫–æ–Ω—Ç–µ–Ω—Ç

7. –ò–ù–°–¢–†–£–ú–ï–ù–¢–´:
   - –ë–æ—Ç—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
   - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
   - AI –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞

8. –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê:
   - –ù–µ–¥–µ–ª—å–Ω—ã–µ KPI
   - –ú–µ—Å—è—á–Ω—ã–µ —Ü–µ–ª–∏
   - –ö–æ–≥–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω. –î–æ 2000 —Å–∏–º–≤–æ–ª–æ–≤.`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.8,
        max_tokens: 2500
      });

      const blueprint = response.choices[0].message.content || '–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–Ω–∞';
      await bot!.sendMessage(chatId, `üéØ –ü–õ–ê–ù –î–û–ú–ò–ù–ò–†–û–í–ê–ù–ò–Ø –ù–ê –†–´–ù–ö–ï\n\n${blueprint}`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–Ω–∞.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /autopilot - –≤–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–ø–∏–ª–æ—Ç
  bot.onText(/\/autopilot/, async (msg) => {
    const chatId = msg.chat.id;
    
    const autopilotInfo = `ü§ñ –†–ï–ñ–ò–ú –ê–í–¢–û–ü–ò–õ–û–¢–ê

–í–∞—à –∫–∞–Ω–∞–ª –Ω–∞ –∞–≤—Ç–æ–ø–∏–ª–æ—Ç–µ —Å AI:

‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò:
‚Ä¢ 3 –ø–æ—Å—Ç–∞ –≤ –¥–µ–Ω—å (09:00, 15:00, 20:00)
‚Ä¢ AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ Grok 2
‚Ä¢ –û–ø—Ä–æ—Å—ã 2 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é
‚Ä¢ –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ç—Ä–µ–Ω–¥—ã
‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–µ–º –ø–æ –≤–æ–≤–ª–µ—á–µ–Ω–∏—é

üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê:
‚Ä¢ –ü–æ—Å—Ç–æ–≤ –≤ –º–µ—Å—è—Ü: ~90
‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç—å AI: $0.01/–º–µ—Å—è—Ü
‚Ä¢ –≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏: 15 —á–∞—Å–æ–≤/–º–µ—Å—è—Ü
‚Ä¢ –ö–∞—á–µ—Å—Ç–≤–æ: —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤—ã—Å–æ–∫–æ–µ

üéØ –ß–¢–û –î–ï–õ–ê–¢–¨ –í–ê–ú:
1. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É (/analytics)
2. –û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
3. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é (/blueprint)
4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã (/viralcheck)

üí° –ü–†–û–î–í–ò–ù–£–¢–´–ï –§–ò–ß–ò:
‚Ä¢ –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –Ω–∏—à–∏ (/niche)
‚Ä¢ –®–ø–∏–æ–Ω–∞–∂ –∑–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º–∏ (/spy)
‚Ä¢ –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤ (/trends)
‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ (/optimize)
‚Ä¢ –ü—Ä–æ—Ñ–∏–ª—å –∞—É–¥–∏—Ç–æ—Ä–∏–∏ (/audience)

üöÄ –°–õ–ï–î–£–Æ–©–ò–ô –£–†–û–í–ï–ù–¨:
‚Ä¢ Stories (—Å–∫–æ—Ä–æ)
‚Ä¢ Mini Apps (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
‚Ä¢ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (beta)
‚Ä¢ –ü–ª–∞—Ç–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ —á–µ—Ä–µ–∑ Stars

‚úÖ –ê–≤—Ç–æ–ø–∏–ª–æ—Ç –ê–ö–¢–ò–í–ï–ù!
–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7 –±–µ–∑ –≤–∞—à–µ–≥–æ —É—á–∞—Å—Ç–∏—è.

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ —É–ª—É—á—à–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏.`;
    
    await bot!.sendMessage(chatId, autopilotInfo);
  });

  // AI –ê–°–°–ò–°–¢–ï–ù–¢ –í –†–ï–ê–õ–¨–ù–û–ú –í–†–ï–ú–ï–ù–ò
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª—é–±—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–Ω–µ –∫–æ–º–∞–Ω–¥)
  bot.on('message', async (msg) => {
    const chatId = msg.chat.id;
    const text = msg.text || '';
    
    // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—ã (–Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å /)
    if (text.startsWith('/')) {
      return;
    }
    
    // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –ø—É—Å—Ç—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    if (!text.trim()) {
      return;
    }
    
    console.log(`üí¨ –ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç ${chatId}: ${text}`);
    
    try {
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á—Ç–æ –±–æ—Ç –ø–µ—á–∞—Ç–∞–µ—Ç
      await bot!.sendChatAction(chatId, 'typing');
      
      const prompt = `–¢—ã - AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—é Telegram –∫–∞–Ω–∞–ª–æ–≤ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π.

–ö–∞–Ω–∞–ª –∫–ª–∏–µ–Ω—Ç–∞: ${CHANNEL_ID}
–í–æ–ø—Ä–æ—Å –∫–ª–∏–µ–Ω—Ç–∞: "${text}"

–î–∞–π –ø–æ–ª–µ–∑–Ω—ã–π, –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π –æ—Ç–≤–µ—Ç:
- –ë—É–¥—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º
- –î–∞–≤–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –∏ –¥–µ–π—Å—Ç–≤–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏
- –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –ø—Ä–æ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ - –¥–∞–≤–∞–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –ø—Ä–æ –∫–æ–Ω—Ç–µ–Ω—Ç - –ø—Ä–µ–¥–ª–∞–≥–∞–π –∏–¥–µ–∏ –∏ —Ñ–æ—Ä–º–∞—Ç—ã
- –ï—Å–ª–∏ –Ω–µ –ø–æ–Ω—è—Ç–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç - –∑–∞–¥–∞–π —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
- –ú–∞–∫—Å–∏–º—É–º 600 —Å–∏–º–≤–æ–ª–æ–≤

–û—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.8,
        max_tokens: 700
      });

      const answer = response.choices[0].message.content || '–ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–µ –º–æ–≥—É –æ—Ç–≤–µ—Ç–∏—Ç—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å.';
      
      await bot!.sendMessage(chatId, answer);
      console.log(`‚úÖ –û—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ${chatId}`);
    } catch (error) {
      console.error('‚ùå –û—à–∏–±–∫–∞ AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞:', error);
      await bot!.sendMessage(chatId, '‚ö†Ô∏è –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã (/help –¥–ª—è —Å–ø–∏—Å–∫–∞).');
    }
  });
  
  console.log('üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:');
  console.log('   ‚Ä¢ 09:00 - —É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç');
  console.log('   ‚Ä¢ 15:00 - –¥–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç');
  console.log('   ‚Ä¢ 20:00 - –≤–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç');
  console.log('   ‚Ä¢ 12:00 (–ü–Ω, –ß—Ç) - –æ–ø—Ä–æ—Å');
  console.log('');
  console.log('üí° –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:');
  console.log('   ‚Ä¢ /start - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ');
  console.log('   ‚Ä¢ /help - —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥');
  console.log('   ‚Ä¢ /post - –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç');
  console.log('   ‚Ä¢ /poll - —Å–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å');
  console.log('   ‚Ä¢ /stats - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞');
  console.log('   ‚Ä¢ /roll [—á–∏—Å–ª–æ] - –±—Ä–æ—Å–æ–∫ –∫—É–±–∏–∫–∞');
  console.log('   ‚Ä¢ /ideas - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–π');
  console.log('   ‚Ä¢ /viral - –≤–∏—Ä—É—Å–Ω—ã–π –ø–æ—Å—Ç');
  console.log('   ‚Ä¢ /hashtags - —Ö–µ—à—Ç–µ–≥–∏');
  console.log('   ‚Ä¢ /rewrite - –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç');
  console.log('   ‚Ä¢ /analytics - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞');
  console.log('   ‚Ä¢ /growth - —Ä–æ—Å—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤');
  console.log('   ‚Ä¢ /report - –æ—Ç—á–µ—Ç');
  console.log('   ‚Ä¢ /crosspromo - –∫—Ä–æ—Å—Å-–ø—Ä–æ–º–æ');
  console.log('   ‚Ä¢ /competitors - –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã');
  console.log('   ‚Ä¢ /chatlist - —á–∞—Ç—ã –¥–ª—è –ø—Ä–æ–º–æ');
  console.log('   ‚Ä¢ /schedule - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ');
  console.log('   ‚Ä¢ /pause - –ø–∞—É–∑–∞');
  console.log('   ‚Ä¢ /resume - –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å');
  console.log('   ‚Ä¢ /ask - —Å–ø—Ä–æ—Å–∏—Ç—å AI');
  console.log('   ‚Ä¢ /settings - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏');
  console.log('');
  console.log('');
  console.log('üî• –†–ï–ñ–ò–ú –î–û–ú–ò–ù–ò–†–û–í–ê–ù–ò–Ø:');
  console.log('   ‚Ä¢ /niche - –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –Ω–∏—à–∏');
  console.log('   ‚Ä¢ /spy - —à–ø–∏–æ–Ω–∞–∂ –∑–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º–∏');
  console.log('   ‚Ä¢ /trends - –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã');
  console.log('   ‚Ä¢ /optimize - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏');
  console.log('   ‚Ä¢ /viralcheck - –∞–Ω–∞–ª–∏–∑ –≤–∏—Ä—É—Å–Ω–æ—Å—Ç–∏');
  console.log('   ‚Ä¢ /audience - –ø—Ä–æ—Ñ–∏–ª—å –¶–ê');
  console.log('   ‚Ä¢ /blueprint - –ø–ª–∞–Ω –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è');
  console.log('   ‚Ä¢ /autopilot - —Ä–µ–∂–∏–º –∞–≤—Ç–æ–ø–∏–ª–æ—Ç–∞');
  console.log('');
  console.log('ü§ñ AI –ê–°–°–ò–°–¢–ï–ù–¢ –í –†–ï–ê–õ–¨–ù–û–ú –í–†–ï–ú–ï–ù–ò:');
  console.log('   ‚úÖ –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –ª—é–±—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è');
  console.log('   ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ —Å–æ —Å–ª–µ—à–µ–º');
  console.log('   ‚úÖ –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å - –±–æ—Ç –æ—Ç–≤–µ—Ç–∏—Ç!');
}
