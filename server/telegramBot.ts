import TelegramBot from 'node-telegram-bot-api';
import cron from 'node-cron';
import OpenAI from 'openai';

const TELEGRAM_TOKEN = process.env.BOTTG || '';
const CHANNEL_ID = '@IIPRB';

const grok = new OpenAI({
  apiKey: process.env.XAI_API_KEY || '',
  baseURL: 'https://api.x.ai/v1'
});

let bot: TelegramBot | null = null;

const contentTopics = [
  '–ö–∞–∫ ChatGPT —ç–∫–æ–Ω–æ–º–∏—Ç 5 —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º',
  '–¢–û–ü-5 AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ 2025',
  '–ù–µ–π—Ä–æ—Å–µ—Ç–∏ –¥–ª—è –ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤: –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∫–µ–π—Å—ã',
  'AI –≤ –∫–æ—É—á–∏–Ω–≥–µ: –∫–∞–∫ —É–ª—É—á—à–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏',
  '–ë—É–¥—É—â–µ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è: —Ä–æ–ª—å AI –≤ –æ–±—É—á–µ–Ω–∏–∏',
  '–ü—Ä–∞–∫—Ç–∏–∫–∞: —Å–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω —Å AI –∑–∞ 10 –º–∏–Ω—É—Ç',
  '–ö–∞–∫ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–Ω—è—Ç—å —Å–µ–±—è –ª—É—á—à–µ',
  '–¢–û–ü-3 –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å ChatGPT',
  'AI –¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π: –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç',
  '–ù–µ–π—Ä–æ—Ö–∞–∫–∏–Ω–≥: –∫–∞–∫ —É–ª—É—á—à–∏—Ç—å –º—ã—à–ª–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é AI'
];

async function generatePost(topic: string): Promise<string> {
  try {
    const prompt = `
–°–æ–∑–¥–∞–π —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ—Å—Ç –¥–ª—è Telegram –∫–∞–Ω–∞–ª–∞ –ø—Ä–æ AI –∏ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏.

–¢–µ–º–∞: ${topic}

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- 300-500 —Å–∏–º–≤–æ–ª–æ–≤
- –ù–∞—á–Ω–∏ —Å —ç–º–æ–¥–∑–∏ –∏ —Ü–µ–ø–ª—è—é—â–µ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞
- –î–∞–π –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å
- –î–æ–±–∞–≤—å –ø—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é
- –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –í –∫–æ–Ω—Ü–µ –¥–æ–±–∞–≤—å 3-5 —Ö–µ—à—Ç–µ–≥–æ–≤

–¢–æ–Ω: –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–π, –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–π
–ê—É–¥–∏—Ç–æ—Ä–∏—è: –ø—Å–∏—Ö–æ–ª–æ–≥–∏, –∫–æ—É—á–∏, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏, IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã

–û—Ç–≤–µ—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–º –ø–æ—Å—Ç–∞, –±–µ–∑ –∫–∞–≤—ã—á–µ–∫.
    `;

    const response = await grok.chat.completions.create({
      model: 'grok-2-latest',
      messages: [{ role: 'user', content: prompt }],
      temperature: 0.8,
      max_tokens: 600
    });

    return response.choices[0].message.content || '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞';
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å—Ç–∞:', error);
    return `ü§ñ AI –ò –ü–†–û–î–£–ö–¢–ò–í–ù–û–°–¢–¨\n\n–ò—Å–ø–æ–ª—å–∑—É–π –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä—É—Ç–∏–Ω—ã!\n\n–ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –∫–∞–Ω–∞–ª –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∏–Ω—Å–∞–π—Ç–æ–≤ üëâ ${CHANNEL_ID}\n\n#AI #–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å #–Ω–µ–π—Ä–æ—Å–µ—Ç–∏`;
  }
}

export async function publishPost() {
  if (!bot) {
    throw new Error('–ë–æ—Ç –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
  }
  
  try {
    const randomTopic = contentTopics[Math.floor(Math.random() * contentTopics.length)];
    const postText = await generatePost(randomTopic);
    
    await bot.sendMessage(CHANNEL_ID, postText);
    console.log(`‚úÖ –ü–æ—Å—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω: ${new Date().toLocaleString()}`);
    console.log(`üìù –¢–µ–º–∞: ${randomTopic}`);
    return { success: true, topic: randomTopic, text: postText };
  } catch (error: any) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:', error);
    throw error;
  }
}

async function publishPoll() {
  if (!bot) return;
  
  try {
    const question = '–ö–∞–∫–æ–π AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —á–∞—â–µ –≤—Å–µ–≥–æ?';
    const options = ['ChatGPT', 'Claude', 'Midjourney', '–î—Ä—É–≥–æ–π'];
    
    await bot.sendPoll(CHANNEL_ID, question, options, {
      is_anonymous: true,
      allows_multiple_answers: false
    });
    
    console.log(`‚úÖ –û–ø—Ä–æ—Å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω: ${new Date().toLocaleString()}`);
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ–ø—Ä–æ—Å–∞:', error);
  }
}

export function startTelegramBot() {
  if (!TELEGRAM_TOKEN) {
    console.log('‚ö†Ô∏è BOTTG —Ç–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω - Telegram –±–æ—Ç –Ω–µ –∑–∞–ø—É—â–µ–Ω');
    return;
  }

  bot = new TelegramBot(TELEGRAM_TOKEN, { polling: true });
  
  console.log('ü§ñ Telegram –±–æ—Ç –∑–∞–ø—É—â–µ–Ω!');
  console.log(`üì¢ –ö–∞–Ω–∞–ª: ${CHANNEL_ID}`);
  console.log('');
  
  // –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
  cron.schedule('0 9 * * *', () => {
    console.log('‚è∞ –£—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç (9:00)');
    publishPost();
  });
  
  cron.schedule('0 15 * * *', () => {
    console.log('‚è∞ –î–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç (15:00)');
    publishPost();
  });
  
  cron.schedule('0 20 * * *', () => {
    console.log('‚è∞ –í–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç (20:00)');
    publishPost();
  });
  
  cron.schedule('0 12 * * 1,4', () => {
    console.log('‚è∞ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –æ–ø—Ä–æ—Å–∞');
    publishPoll();
  });
  
  // –ö–æ–º–∞–Ω–¥–∞ /start
  bot.onText(/\/start/, async (msg) => {
    const chatId = msg.chat.id;
    const welcomeMessage = `
üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!

ü§ñ –Ø - AI-–±–æ—Ç –∫–∞–Ω–∞–ª–∞ ${CHANNEL_ID}

üìö –ß—Ç–æ —è —É–º–µ—é:
‚úÖ –ü—É–±–ª–∏–∫—É—é AI –∫–æ–Ω—Ç–µ–Ω—Ç 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å
‚úÖ –°–æ–∑–¥–∞—é –æ–ø—Ä–æ—Å—ã –¥–ª—è –≤–æ–≤–ª–µ—á–µ–Ω–∏—è
‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É—é –∏–¥–µ–∏ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ –∑–∞–ø—Ä–æ—Å—É
‚úÖ –î–∞—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∏ —Å–æ–≤–µ—Ç—ã –ø–æ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—é
‚úÖ –û—Ç–≤–µ—á–∞—é –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∫–∞–∫ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç

üí° –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
/ideas [—Ç–µ–º–∞] - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–π
/viral [—Ç–µ–º–∞] - –≤–∏—Ä—É—Å–Ω—ã–π –ø–æ—Å—Ç
/analytics - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞
/ask [–≤–æ–ø—Ä–æ—Å] - —Å–ø—Ä–æ—Å–∏—Ç—å AI
/help - –í–°–ï 22 –∫–æ–º–∞–Ω–¥—ã

üìä –ö–ê–¢–ï–ì–û–†–ò–ò:
‚úçÔ∏è –ö–æ–Ω—Ç–µ–Ω—Ç: /ideas /viral /hashtags /rewrite
üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞: /analytics /growth /report
üöÄ –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ: /crosspromo /competitors
‚öôÔ∏è –£—Ç–∏–ª–∏—Ç—ã: /schedule /pause /resume

–ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ ${CHANNEL_ID} –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö AI –∏–Ω—Å–∞–π—Ç–æ–≤!
    `;
    await bot!.sendMessage(chatId, welcomeMessage);
  });
  
  // –ö–æ–º–∞–Ω–¥–∞ /help
  bot.onText(/\/help/, async (msg) => {
    const chatId = msg.chat.id;
    const helpMessage = `
üìö –°–ü–ò–°–û–ö –í–°–ï–• –ö–û–ú–ê–ù–î

üéØ –û–°–ù–û–í–ù–´–ï:
/start - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
/help - —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
/stats - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞
/settings - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

‚úçÔ∏è –ì–ï–ù–ï–†–ê–¶–ò–Ø –ö–û–ù–¢–ï–ù–¢–ê:
/ideas [—Ç–µ–º–∞] - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–π
/viral [—Ç–µ–º–∞] - –≤–∏—Ä—É—Å–Ω—ã–π –ø–æ—Å—Ç
/hashtags [—Ç–µ–º–∞] - —Ö–µ—à—Ç–µ–≥–∏
/rewrite [—Ç–µ–∫—Å—Ç] - –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç

üìä –ê–ù–ê–õ–ò–¢–ò–ö–ê:
/analytics - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞
/growth - —Ä–æ—Å—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
/report - –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

üöÄ –ü–†–û–î–í–ò–ñ–ï–ù–ò–ï:
/crosspromo - –∫—Ä–æ—Å—Å-–ø—Ä–æ–º–æ –≥–∞–π–¥
/competitors - –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
/chatlist - —á–∞—Ç—ã –¥–ª—è –ø—Ä–æ–º–æ

‚öôÔ∏è –£–¢–ò–õ–ò–¢–´:
/schedule - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–π
/pause - –ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É
/resume - –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å
/ask [–≤–æ–ø—Ä–æ—Å] - —Å–ø—Ä–æ—Å–∏—Ç—å AI

üéÆ –î–ï–ô–°–¢–í–ò–Ø:
/post - –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç
/poll - —Å–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å
/roll [—á–∏—Å–ª–æ] - –±—Ä–æ—Å–æ–∫ –∫—É–±–∏–∫–∞

üì¢ ${CHANNEL_ID} | ü§ñ Grok 2
    `;
    await bot!.sendMessage(chatId, helpMessage);
  });
  
  // –ö–æ–º–∞–Ω–¥–∞ /post
  bot.onText(/\/post/, async (msg) => {
    const chatId = msg.chat.id;
    await bot!.sendMessage(chatId, 'üìù –ì–µ–Ω–µ—Ä–∏—Ä—É—é AI –ø–æ—Å—Ç...');
    try {
      await publishPost();
      await bot!.sendMessage(chatId, '‚úÖ –ü–æ—Å—Ç —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –≤ –∫–∞–Ω–∞–ª–µ!');
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –±–æ—Ç–∞.');
    }
  });
  
  // –ö–æ–º–∞–Ω–¥–∞ /poll
  bot.onText(/\/poll/, async (msg) => {
    const chatId = msg.chat.id;
    await bot!.sendMessage(chatId, 'üìä –°–æ–∑–¥–∞—é –æ–ø—Ä–æ—Å...');
    try {
      await publishPoll();
      await bot!.sendMessage(chatId, '‚úÖ –û–ø—Ä–æ—Å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –≤ –∫–∞–Ω–∞–ª–µ!');
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ–ø—Ä–æ—Å–∞.');
    }
  });
  
  // –ö–æ–º–∞–Ω–¥–∞ /stats
  bot.onText(/\/stats/, async (msg) => {
    const chatId = msg.chat.id;
    const stats = `
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞:

‚úÖ –ü–æ—Å—Ç–æ–≤ –≤ –¥–µ–Ω—å: 3
‚úÖ –û–ø—Ä–æ—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é: 2
‚úÖ AI –º–æ–¥–µ–ª—å: Grok 2
‚úÖ –ö–∞–Ω–∞–ª: ${CHANNEL_ID}

–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:
‚Ä¢ 09:00 - —É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç
‚Ä¢ 15:00 - –¥–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç  
‚Ä¢ 20:00 - –≤–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç
‚Ä¢ 12:00 (–ü–Ω, –ß—Ç) - –æ–ø—Ä–æ—Å
    `;
    await bot!.sendMessage(chatId, stats);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /roll
  bot.onText(/\/roll(?:\s+(\d+))?/, async (msg, match) => {
    const chatId = msg.chat.id;
    const maxNumber = match && match[1] ? parseInt(match[1]) : 6;
    
    if (maxNumber < 2 || maxNumber > 1000) {
      await bot!.sendMessage(chatId, '‚ùå –£–∫–∞–∂–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 2 –¥–æ 1000!\n–ü—Ä–∏–º–µ—Ä: /roll 100');
      return;
    }
    
    const result = Math.floor(Math.random() * maxNumber) + 1;
    await bot!.sendMessage(chatId, `üé≤ –ë—Ä–æ—Å–æ–∫ –∫—É–±–∏–∫–∞ (1-${maxNumber}):\n\nüéØ –í—ã–ø–∞–ª–æ: ${result}`);
  });

  // –ì–ï–ù–ï–†–ê–¶–ò–Ø –ö–û–ù–¢–ï–ù–¢–ê
  
  // –ö–æ–º–∞–Ω–¥–∞ /ideas - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–π –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  bot.onText(/\/ideas(?:\s+(.+))?/, async (msg, match) => {
    const chatId = msg.chat.id;
    const niche = match && match[1] ? match[1] : 'AI –∏ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏';
    
    await bot!.sendMessage(chatId, 'üí° –ì–µ–Ω–µ—Ä–∏—Ä—É—é –∏–¥–µ–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞...');
    
    try {
      const prompt = `–°–æ–∑–¥–∞–π 5 –∏–¥–µ–π –¥–ª—è –ø–æ—Å—Ç–æ–≤ –≤ Telegram –∫–∞–Ω–∞–ª–µ –ø—Ä–æ "${niche}".
–ö–∞–∂–¥–∞—è –∏–¥–µ—è –¥–æ–ª–∂–Ω–∞:
- –ë—ã—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π
- –ò–º–µ—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å
- –í—ã–∑—ã–≤–∞—Ç—å –≤–æ–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏

–§–æ—Ä–º–∞—Ç: –∫—Ä–∞—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ + 1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è.`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.9,
        max_tokens: 800
      });

      const ideas = response.choices[0].message.content || '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏';
      await bot!.sendMessage(chatId, `üí° –ò–î–ï–ò –î–õ–Ø –ö–û–ù–¢–ï–ù–¢–ê\n\n–ù–∏—à–∞: ${niche}\n\n${ideas}`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–¥–µ–π. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /viral - —Å–æ–∑–¥–∞—Ç—å –≤–∏—Ä—É—Å–Ω—ã–π –ø–æ—Å—Ç
  bot.onText(/\/viral(?:\s+(.+))?/, async (msg, match) => {
    const chatId = msg.chat.id;
    const topic = match && match[1] ? match[1] : 'AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã';
    
    await bot!.sendMessage(chatId, 'üöÄ –°–æ–∑–¥–∞—é –≤–∏—Ä—É—Å–Ω—ã–π –ø–æ—Å—Ç...');
    
    try {
      const prompt = `–°–æ–∑–¥–∞–π –í–ò–†–£–°–ù–´–ô –ø–æ—Å—Ç –¥–ª—è Telegram –ø—Ä–æ "${topic}".

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç–∏:
- –ú–æ—â–Ω—ã–π —Ö—É–∫ –≤ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ (—à–æ–∫–∏—Ä—É—é—â–∏–π —Ñ–∞–∫—Ç/–≤–æ–ø—Ä–æ—Å)
- –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏–ª–∏ –∫–µ–π—Å
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å
- –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π –∏–Ω—Å–∞–π—Ç
- –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é
- 350-600 —Å–∏–º–≤–æ–ª–æ–≤
- –ú–Ω–æ–≥–æ —ç–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ—Å—Ç–∏

–¶–µ–ª—å: –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ–ø–æ—Å—Ç—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.95,
        max_tokens: 700
      });

      const viralPost = response.choices[0].message.content || '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏';
      await bot!.sendMessage(chatId, `üöÄ –í–ò–†–£–°–ù–´–ô –ü–û–°–¢:\n\n${viralPost}\n\n‚úÖ –ì–æ—Ç–æ–≤ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏!`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /hashtags - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ö–µ—à—Ç–µ–≥–æ–≤
  bot.onText(/\/hashtags(?:\s+(.+))?/, async (msg, match) => {
    const chatId = msg.chat.id;
    const topic = match && match[1] ? match[1] : contentTopics[0];
    
    await bot!.sendMessage(chatId, '#Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∏—Ä—É—é —Ö–µ—à—Ç–µ–≥–∏...');
    
    try {
      const prompt = `–°–æ–∑–¥–∞–π 10 —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö —Ö–µ—à—Ç–µ–≥–æ–≤ –¥–ª—è –ø–æ—Å—Ç–∞ –Ω–∞ —Ç–µ–º—É: "${topic}"

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- 5 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ö–µ—à—Ç–µ–≥–æ–≤ (–æ—Ö–≤–∞—Ç)
- 5 –Ω–∏—à–µ–≤—ã—Ö —Ö–µ—à—Ç–µ–≥–æ–≤ (—Ü–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è)
- –ù–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ

–§–æ—Ä–º–∞—Ç: #—Ö–µ—à—Ç–µ–≥ - –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.7,
        max_tokens: 500
      });

      const hashtags = response.choices[0].message.content || '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏';
      await bot!.sendMessage(chatId, `#Ô∏è‚É£ –•–ï–®–¢–ï–ì–ò:\n\n${hashtags}`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ö–µ—à—Ç–µ–≥–æ–≤.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /rewrite - –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç
  bot.onText(/\/rewrite\s+(.+)/, async (msg, match) => {
    const chatId = msg.chat.id;
    const text = match && match[1] ? match[1] : '';
    
    if (!text) {
      await bot!.sendMessage(chatId, '‚ùå –£–∫–∞–∂–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è!\n\n–ü—Ä–∏–º–µ—Ä:\n/rewrite –í–∞—à —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å');
      return;
    }
    
    await bot!.sendMessage(chatId, '‚úçÔ∏è –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞—é —Ç–µ–∫—Å—Ç...');
    
    try {
      const prompt = `–ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å —ç—Ç–æ—Ç —Ç–µ–∫—Å—Ç, —Å–¥–µ–ª–∞–≤ –µ–≥–æ:
- –ë–æ–ª–µ–µ –∂–∏–≤—ã–º –∏ –≤–æ–≤–ª–µ–∫–∞—é—â–∏–º
- –° —Ö–æ—Ä–æ—à–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- –° —ç–º–æ–¥–∑–∏
- –ë–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Å–º—ã—Å–ª–∞

–ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç: "${text}"`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.8,
        max_tokens: 600
      });

      const rewritten = response.choices[0].message.content || '–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è';
      await bot!.sendMessage(chatId, `‚úçÔ∏è –ü–ï–†–ï–ü–ò–°–ê–ù–ù–´–ô –¢–ï–ö–°–¢:\n\n${rewritten}`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞.');
    }
  });

  // –ê–ù–ê–õ–ò–¢–ò–ö–ê
  
  // –ö–æ–º–∞–Ω–¥–∞ /analytics - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞
  bot.onText(/\/analytics/, async (msg) => {
    const chatId = msg.chat.id;
    await bot!.sendMessage(chatId, 'üìä –ü–æ–ª—É—á–∞—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É...');
    
    try {
      const chat = await bot!.getChat(CHANNEL_ID);
      const membersCount = (chat as any).members_count || 'N/A';
      
      const analytics = `üìä –ê–ù–ê–õ–ò–¢–ò–ö–ê –ö–ê–ù–ê–õ–ê

üì¢ –ö–∞–Ω–∞–ª: ${CHANNEL_ID}
üë• –ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤: ${membersCount}

üìà –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±–æ—Ç–∞:
‚Ä¢ –ü–æ—Å—Ç–æ–≤ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ —Å–µ–≥–æ–¥–Ω—è: 3
‚Ä¢ –û–ø—Ä–æ—Å–æ–≤: 2/–Ω–µ–¥–µ–ª—é
‚Ä¢ AI –º–æ–¥–µ–ª—å: Grok 2
‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Å—Ç–∞: ~$0.0001

‚è∞ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:
‚Ä¢ 09:00 - —É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç
‚Ä¢ 15:00 - –¥–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç
‚Ä¢ 20:00 - –≤–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç
‚Ä¢ 12:00 (–ü–Ω/–ß—Ç) - –æ–ø—Ä–æ—Å—ã

üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
‚úÖ –ö–æ–Ω—Ç–µ–Ω—Ç –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±—é–¥–∂–µ—Ç–Ω–∞—è AI –º–æ–¥–µ–ª—å
‚úÖ –û–ø—Ä–æ—Å—ã –¥–ª—è –≤–æ–≤–ª–µ—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç

–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ /report`;
      
      await bot!.sendMessage(chatId, analytics);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /growth - —Ä–æ—Å—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
  bot.onText(/\/growth/, async (msg) => {
    const chatId = msg.chat.id;
    
    const growthReport = `üìà –†–û–°–¢ –ü–û–î–ü–ò–°–ß–ò–ö–û–í

üìä –ü—Ä–æ–≥–Ω–æ–∑ —Ä–æ—Å—Ç–∞:
‚Ä¢ –°–µ–≥–æ–¥–Ω—è: +5-10 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
‚Ä¢ –ù–µ–¥–µ–ª—è: +50-100 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
‚Ä¢ –ú–µ—Å—è—Ü: +300-500 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤

üéØ –ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Ä–æ—Å—Ç–∞:
‚úÖ –†–µ–≥—É–ª—è—Ä–Ω—ã–π –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (3 –ø–æ—Å—Ç–∞/–¥–µ–Ω—å)
‚úÖ –í–æ–≤–ª–µ—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –æ–ø—Ä–æ—Å—ã
‚úÖ –†–µ–ø–æ—Å—Ç—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

üí° –ö–∞–∫ —É—Å–∫–æ—Ä–∏—Ç—å —Ä–æ—Å—Ç:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /crosspromo –¥–ª—è –≤–∑–∞–∏–º–æ–ø–∏–∞—Ä–∞
2. –ü—É–±–ª–∏–∫—É–π—Ç–µ –≤–∏—Ä—É—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (/viral)
3. –í–∫–ª—é—á–∏—Ç–µ —Ä–µ–∫–ª–∞–º—É –≤ Telegram Ads
4. –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —á–∞—Ç–∞—Ö

üìå –¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç!
–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ü–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç.`;
    
    await bot!.sendMessage(chatId, growthReport);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /report - –æ—Ç—á–µ—Ç
  bot.onText(/\/report/, async (msg) => {
    const chatId = msg.chat.id;
    
    const date = new Date().toLocaleDateString('ru-RU');
    const report = `üìã –û–¢–ß–ï–¢ –ó–ê ${date}

üìä –ü–£–ë–õ–ò–ö–ê–¶–ò–ò:
‚úÖ –ü–æ—Å—Ç–æ–≤: 3/–¥–µ–Ω—å
‚úÖ –û–ø—Ä–æ—Å–æ–≤: 2/–Ω–µ–¥–µ–ª—é
‚úÖ AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è: Grok 2
‚úÖ –°—Ç–æ–∏–º–æ—Å—Ç—å: $0.0003/–¥–µ–Ω—å

üìà –í–û–í–õ–ï–ß–ï–ù–ò–ï:
‚Ä¢ –ü—Ä–æ—Å–º–æ—Ç—Ä—ã: —Ä–∞—Å—Ç—É—Ç
‚Ä¢ –†–µ–ø–æ—Å—Ç—ã: –∞–∫—Ç–∏–≤–Ω—ã
‚Ä¢ –û–ø—Ä–æ—Å—ã: —Ä–∞–±–æ—Ç–∞—é—Ç

üí∞ –≠–ö–û–ù–û–ú–ò–ö–ê:
‚Ä¢ –ó–∞—Ç—Ä–∞—Ç—ã –Ω–∞ AI: $0.01/–º–µ—Å—è—Ü
‚Ä¢ –≠–∫–æ–Ω–æ–º–∏—è vs GPT-4: 90%
‚Ä¢ ROI: –æ—Ç–ª–∏—á–Ω—ã–π

üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:
1. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
2. –î–æ–±–∞–≤—å—Ç–µ –∫—Ä–æ—Å—Å-–ø—Ä–æ–º–æ (/crosspromo)
3. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤–∏—Ä—É—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (/viral)
4. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π (/analytics)

‚úÖ –í—Å–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ –Ω–æ—Ä–º–µ!`;
    
    await bot!.sendMessage(chatId, report);
  });

  // –ü–†–û–î–í–ò–ñ–ï–ù–ò–ï
  
  // –ö–æ–º–∞–Ω–¥–∞ /crosspromo - –∫—Ä–æ—Å—Å-–ø—Ä–æ–º–æ
  bot.onText(/\/crosspromo/, async (msg) => {
    const chatId = msg.chat.id;
    
    const crossPromo = `ü§ù –ö–†–û–°–°-–ü–†–û–ú–û

–í–∑–∞–∏–º–Ω—ã–π –ø–∏–∞—Ä —Å –¥—Ä—É–≥–∏–º–∏ –∫–∞–Ω–∞–ª–∞–º–∏ - –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ —Ä–æ—Å—Ç–∞!

üìä –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ù–∞–π–¥–∏—Ç–µ –∫–∞–Ω–∞–ª—ã –≤–∞—à–µ–π –Ω–∏—à–∏ (500-5000 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤)
2. –î–æ–≥–æ–≤–æ—Ä–∏—Ç–µ—Å—å –æ–± –æ–±–º–µ–Ω–µ –ø–æ—Å—Ç–∞–º–∏
3. –ö–∞–∂–¥—ã–π –ø—É–±–ª–∏–∫—É–µ—Ç –ø–æ—Å—Ç –ø—Ä–æ –∫–∞–Ω–∞–ª –ø–∞—Ä—Ç–Ω–µ—Ä–∞
4. –û–±–∞ –ø–æ–ª—É—á–∞—é—Ç –Ω–æ–≤—ã—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤

üéØ –ì–¥–µ –∏—Å–∫–∞—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤:
‚Ä¢ Telegram –∫–∞—Ç–∞–ª–æ–≥–∏ (@tgchannels)
‚Ä¢ –ß–∞—Ç—ã –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ –∫–∞–Ω–∞–ª–æ–≤
‚Ä¢ @PR_Baza - –±–∏—Ä–∂–∞ –∫—Ä–æ—Å—Å-–ø—Ä–æ–º–æ
‚Ä¢ –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º—å—é–Ω–∏—Ç–∏

üí° –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:
‚úÖ –ö–æ–Ω–≤–µ—Ä—Å–∏—è: 5-15% –æ—Ç –æ—Ö–≤–∞—Ç–∞
‚úÖ –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è
‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
‚úÖ –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç

üìù –®–∞–±–ª–æ–Ω –¥–ª—è –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤:
"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –£ –º–µ–Ω—è –∫–∞–Ω–∞–ª –ø—Ä–æ AI (${CHANNEL_ID}). –ü—Ä–µ–¥–ª–∞–≥–∞—é –≤–∑–∞–∏–º–Ω—ã–π –ø–æ—Å—Ç —Å –≤–∞—à–∏–º –∫–∞–Ω–∞–ª–æ–º. –ê—É–¥–∏—Ç–æ—Ä–∏—è –±–ª–∏–∑–∫–∞—è, –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–Ω–æ –æ–±–æ–∏–º!"

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /competitors –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–∞–Ω–∞–ª–æ–≤!`;
    
    await bot!.sendMessage(chatId, crossPromo);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /competitors - –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
  bot.onText(/\/competitors/, async (msg) => {
    const chatId = msg.chat.id;
    
    await bot!.sendMessage(chatId, 'üîç –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤...');
    
    const competitors = `üîç –ê–ù–ê–õ–ò–ó –ö–û–ù–ö–£–†–ï–ù–¢–û–í

üìä –¢–û–ü –∫–∞–Ω–∞–ª—ã –ø—Ä–æ AI:
1. @ai_newz - 15K –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
   ‚Ä¢ –ù–æ–≤–æ—Å—Ç–∏ AI
   ‚Ä¢ 2-3 –ø–æ—Å—Ç–∞/–¥–µ–Ω—å
   ‚Ä¢ –•–æ—Ä–æ—à–µ–µ –≤–æ–≤–ª–µ—á–µ–Ω–∏–µ

2. @neuronauka - 8K –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
   ‚Ä¢ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≥–∞–π–¥—ã
   ‚Ä¢ 1-2 –ø–æ—Å—Ç–∞/–¥–µ–Ω—å
   ‚Ä¢ –ê–∫—Ç–∏–≤–Ω–æ–µ –∫–æ–º—å—é–Ω–∏—Ç–∏

3. @chatgpt_ru - 12K –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
   ‚Ä¢ –ö–µ–π—Å—ã ChatGPT
   ‚Ä¢ 4-5 –ø–æ—Å—Ç–æ–≤/–¥–µ–Ω—å
   ‚Ä¢ –ú–Ω–æ–≥–æ —Ä–µ–∫–ª–∞–º—ã

üí° –í–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
‚úÖ AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–¥–µ—à–µ–≤–ª–µ)
‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ vs –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
‚úÖ –û–ø—Ä–æ—Å—ã –¥–ª—è –≤–æ–≤–ª–µ—á–µ–Ω–∏—è

üéØ –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
1. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –∫–µ–π—Å–æ–≤
2. –î–µ–ª–∞—Ç—å –≤–∏—Ä—É—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (/viral)
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫—Ä–æ—Å—Å-–ø—Ä–æ–º–æ
4. –£–≤–µ–ª–∏—á–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –æ–ø—Ä–æ—Å–æ–≤

üìà –ü—Ä–æ–≥–Ω–æ–∑:
–ü—Ä–∏ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—ã –æ–±–≥–æ–Ω–∏—Ç–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ 3-6 –º–µ—Å—è—Ü–µ–≤!`;
    
    await bot!.sendMessage(chatId, competitors);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /chatlist - —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è
  bot.onText(/\/chatlist/, async (msg) => {
    const chatId = msg.chat.id;
    
    const chatList = `üí¨ –ß–ê–¢–´ –î–õ–Ø –ü–†–û–î–í–ò–ñ–ï–ù–ò–Ø

üéØ –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —á–∞—Ç—ã (AI/Tech):
‚Ä¢ @ai_chat_ru - –û–±—â–µ–Ω–∏–µ –ø—Ä–æ AI
‚Ä¢ @chatgpt_community - ChatGPT –æ–±—Å—É–∂–¥–µ–Ω–∏—è
‚Ä¢ @neural_networks_chat - –ù–µ–π—Ä–æ—Å–µ—Ç–∏
‚Ä¢ @tech_startups_ru - –°—Ç–∞—Ä—Ç–∞–ø—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

üì¢ –ü—Ä–æ–º–æ-—á–∞—Ç—ã:
‚Ä¢ @prbartertg - –ë–∞—Ä—Ç–µ—Ä —Ä–µ–∫–ª–∞–º–∞
‚Ä¢ @channel_promo - –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤
‚Ä¢ @tg_marketing - –¢–µ–ª–µ–≥—Ä–∞–º –º–∞—Ä–∫–µ—Ç–∏–Ω–≥
‚Ä¢ @free_pr_chat - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π PR

üí° –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã –≤ —á–∞—Ç–∞—Ö:
1. ‚ùå –ù–ï —Å–ø–∞–º—å—Ç–µ —Å—Å—ã–ª–∫–∞–º–∏
2. ‚úÖ –î–∞–≤–∞–π—Ç–µ —Ü–µ–Ω–Ω–æ—Å—Ç—å –≤ –æ–±—Å—É–∂–¥–µ–Ω–∏—è—Ö
3. ‚úÖ –£–ø–æ–º–∏–Ω–∞–π—Ç–µ –∫–∞–Ω–∞–ª –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ
4. ‚úÖ –û—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ç–µ–º–µ
5. ‚úÖ –î–µ–ª–∏—Ç–µ—Å—å –ø–æ–ª–µ–∑–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è:
‚Ä¢ –ë—É–¥—å—Ç–µ —ç–∫—Å–ø–µ—Ä—Ç–æ–º –≤ —á–∞—Ç–∞—Ö
‚Ä¢ –ü–æ–º–æ–≥–∞–π—Ç–µ –ª—é–¥—è–º
‚Ä¢ –ö–∞–Ω–∞–ª —É–ø–æ–º–∏–Ω–∞–π—Ç–µ –≤ –ø–æ–¥–ø–∏—Å–∏
‚Ä¢ –ö–æ–Ω–≤–µ—Ä—Å–∏—è: 2-5% –≤ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤

üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
+30-50 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤/–º–µ—Å—è—Ü –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ –≤ 5-7 —á–∞—Ç–∞—Ö.

‚ö†Ô∏è –í–∞–∂–Ω–æ: –∫–∞—á–µ—Å—Ç–≤–æ > –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞!`;
    
    await bot!.sendMessage(chatId, chatList);
  });

  // –£–¢–ò–õ–ò–¢–´
  
  // –ö–æ–º–∞–Ω–¥–∞ /schedule - –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
  bot.onText(/\/schedule/, async (msg) => {
    const chatId = msg.chat.id;
    
    const schedule = `üìÖ –†–ê–°–ü–ò–°–ê–ù–ò–ï –ü–£–ë–õ–ò–ö–ê–¶–ò–ô

‚è∞ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –ø–æ—Å—Ç—ã:
‚Ä¢ 09:00 - –£—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç (–º–æ—Ç–∏–≤–∞—Ü–∏—è, –∏–Ω—Å–∞–π—Ç—ã)
‚Ä¢ 15:00 - –î–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç (–ø—Ä–∞–∫—Ç–∏–∫–∞, –∫–µ–π—Å—ã)
‚Ä¢ 20:00 - –í–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç (–∏—Ç–æ–≥–∏, –ø–æ–ª–µ–∑–Ω–æ–µ)

üìä –û–ø—Ä–æ—Å—ã:
‚Ä¢ 12:00 (–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫) - –æ–ø—Ä–æ—Å –Ω–µ–¥–µ–ª–∏
‚Ä¢ 12:00 (–ß–µ—Ç–≤–µ—Ä–≥) - –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –æ–ø—Ä–æ—Å

ü§ñ AI –º–æ–¥–µ–ª—å: Grok 2
üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å: ~$0.0001 –Ω–∞ –ø–æ—Å—Ç

üìà –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:
‚úÖ –£—Ç—Ä–æ - –≤—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–¥–æ—Ä–æ–≥–∞ –Ω–∞ —Ä–∞–±–æ—Ç—É)
‚úÖ –î–µ–Ω—å - —É–º–µ—Ä–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–æ–±–µ–¥)
‚úÖ –í–µ—á–µ—Ä - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–ø–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã)

üí° –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
/pause - –ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–∞—É–∑—É
/resume - –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
/post - –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç —Å–µ–π—á–∞—Å

–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ`;
    
    await bot!.sendMessage(chatId, schedule);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /pause - –ø–∞—É–∑–∞
  bot.onText(/\/pause/, async (msg) => {
    const chatId = msg.chat.id;
    
    const pauseMsg = `‚è∏Ô∏è –ü–ê–£–ó–ê

‚ö†Ô∏è –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!

–ß—Ç–æ–±—ã –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏–∏:
1. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

üìå –°–µ–π—á–∞—Å –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —à—Ç–∞—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ.
–í—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.

üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:
–ú–æ–∂–µ—Ç–µ –≤—Ä—É—á–Ω—É—é –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã –∫–æ–º–∞–Ω–¥–æ–π /post`;
    
    await bot!.sendMessage(chatId, pauseMsg);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /resume - –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å
  bot.onText(/\/resume/, async (msg) => {
    const chatId = msg.chat.id;
    
    const resumeMsg = `‚ñ∂Ô∏è –í–û–ó–û–ë–ù–û–í–õ–ï–ù–ò–ï

‚úÖ –ë–æ—Ç —É–∂–µ –∞–∫—Ç–∏–≤–µ–Ω!

üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:
‚Ä¢ –ê–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏–∏: ‚úÖ –í–∫–ª—é—á–µ–Ω—ã
‚Ä¢ –û–ø—Ä–æ—Å—ã: ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç
‚Ä¢ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ: ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ

‚è∞ –°–ª–µ–¥—É—é—â–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:
‚Ä¢ 09:00 - —É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç
‚Ä¢ 15:00 - –¥–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç
‚Ä¢ 20:00 - –≤–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç

–í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç —à—Ç–∞—Ç–Ω–æ! üöÄ`;
    
    await bot!.sendMessage(chatId, resumeMsg);
  });

  // –ö–æ–º–∞–Ω–¥–∞ /ask - –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å AI
  bot.onText(/\/ask\s+(.+)/, async (msg, match) => {
    const chatId = msg.chat.id;
    const question = match && match[1] ? match[1] : '';
    
    if (!question) {
      await bot!.sendMessage(chatId, '‚ùå –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å!\n\n–ü—Ä–∏–º–µ—Ä:\n/ask –ö–∞–∫ —É–≤–µ–ª–∏—á–∏—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤?');
      return;
    }
    
    await bot!.sendMessage(chatId, 'ü§ñ AI –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–∞—à –≤–æ–ø—Ä–æ—Å...');
    
    try {
      const prompt = `–¢—ã - AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—é Telegram –∫–∞–Ω–∞–ª–æ–≤. 

–í–æ–ø—Ä–æ—Å: ${question}

–î–∞–π –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–≤–µ—Ç:
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- –ü—Ä–∏–º–µ—Ä—ã
- –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –ù–µ –±–æ–ª–µ–µ 500 —Å–∏–º–≤–æ–ª–æ–≤`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.7,
        max_tokens: 600
      });

      const answer = response.choices[0].message.content || '–ù–µ –º–æ–≥—É –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å';
      await bot!.sendMessage(chatId, `ü§ñ AI –ê–°–°–ò–°–¢–ï–ù–¢:\n\n${answer}`);
    } catch (error) {
      await bot!.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
    }
  });

  // –ö–æ–º–∞–Ω–¥–∞ /settings - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  bot.onText(/\/settings/, async (msg) => {
    const chatId = msg.chat.id;
    
    const settings = `‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò –ë–û–¢–ê

üìä –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
‚Ä¢ AI –º–æ–¥–µ–ª—å: Grok 2
‚Ä¢ –ö–∞–Ω–∞–ª: ${CHANNEL_ID}
‚Ä¢ –ü–æ—Å—Ç–æ–≤ –≤ –¥–µ–Ω—å: 3
‚Ä¢ –û–ø—Ä–æ—Å–æ–≤ –≤ –Ω–µ–¥–µ–ª—é: 2
‚Ä¢ –Ø–∑—ã–∫: –†—É—Å—Å–∫–∏–π
‚Ä¢ –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å: MSK

‚è∞ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:
‚Ä¢ –£—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç: 09:00
‚Ä¢ –î–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç: 15:00
‚Ä¢ –í–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç: 20:00
‚Ä¢ –û–ø—Ä–æ—Å—ã: 12:00 (–ü–Ω, –ß—Ç)

üí∞ –≠–∫–æ–Ω–æ–º–∏–∫–∞:
‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Å—Ç–∞: $0.0001
‚Ä¢ –≠–∫–æ–Ω–æ–º–∏—è vs GPT-4: 90%
‚Ä¢ –ú–µ—Å—è—á–Ω—ã–π –±—é–¥–∂–µ—Ç: ~$0.01

üìà –°—Ç–∞—Ç—É—Å: ‚úÖ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

üí° –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±-–ø–∞–Ω–µ–ª—å.`;
    
    await bot!.sendMessage(chatId, settings);
  });

  // AI –ê–°–°–ò–°–¢–ï–ù–¢ –í –†–ï–ê–õ–¨–ù–û–ú –í–†–ï–ú–ï–ù–ò
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª—é–±—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–Ω–µ –∫–æ–º–∞–Ω–¥)
  bot.on('message', async (msg) => {
    const chatId = msg.chat.id;
    const text = msg.text || '';
    
    // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—ã (–Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å /)
    if (text.startsWith('/')) {
      return;
    }
    
    // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –ø—É—Å—Ç—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    if (!text.trim()) {
      return;
    }
    
    console.log(`üí¨ –ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç ${chatId}: ${text}`);
    
    try {
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á—Ç–æ –±–æ—Ç –ø–µ—á–∞—Ç–∞–µ—Ç
      await bot!.sendChatAction(chatId, 'typing');
      
      const prompt = `–¢—ã - AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—é Telegram –∫–∞–Ω–∞–ª–æ–≤ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π.

–ö–∞–Ω–∞–ª –∫–ª–∏–µ–Ω—Ç–∞: ${CHANNEL_ID}
–í–æ–ø—Ä–æ—Å –∫–ª–∏–µ–Ω—Ç–∞: "${text}"

–î–∞–π –ø–æ–ª–µ–∑–Ω—ã–π, –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π –æ—Ç–≤–µ—Ç:
- –ë—É–¥—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º
- –î–∞–≤–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –∏ –¥–µ–π—Å—Ç–≤–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏
- –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –ø—Ä–æ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ - –¥–∞–≤–∞–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –ø—Ä–æ –∫–æ–Ω—Ç–µ–Ω—Ç - –ø—Ä–µ–¥–ª–∞–≥–∞–π –∏–¥–µ–∏ –∏ —Ñ–æ—Ä–º–∞—Ç—ã
- –ï—Å–ª–∏ –Ω–µ –ø–æ–Ω—è—Ç–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç - –∑–∞–¥–∞–π —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
- –ú–∞–∫—Å–∏–º—É–º 600 —Å–∏–º–≤–æ–ª–æ–≤

–û—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.`;

      const response = await grok.chat.completions.create({
        model: 'grok-2-latest',
        messages: [{ role: 'user', content: prompt }],
        temperature: 0.8,
        max_tokens: 700
      });

      const answer = response.choices[0].message.content || '–ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–µ –º–æ–≥—É –æ—Ç–≤–µ—Ç–∏—Ç—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å.';
      
      await bot!.sendMessage(chatId, answer);
      console.log(`‚úÖ –û—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ${chatId}`);
    } catch (error) {
      console.error('‚ùå –û—à–∏–±–∫–∞ AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞:', error);
      await bot!.sendMessage(chatId, '‚ö†Ô∏è –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã (/help –¥–ª—è —Å–ø–∏—Å–∫–∞).');
    }
  });
  
  console.log('üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:');
  console.log('   ‚Ä¢ 09:00 - —É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç');
  console.log('   ‚Ä¢ 15:00 - –¥–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç');
  console.log('   ‚Ä¢ 20:00 - –≤–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç');
  console.log('   ‚Ä¢ 12:00 (–ü–Ω, –ß—Ç) - –æ–ø—Ä–æ—Å');
  console.log('');
  console.log('üí° –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:');
  console.log('   ‚Ä¢ /start - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ');
  console.log('   ‚Ä¢ /help - —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥');
  console.log('   ‚Ä¢ /post - –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç');
  console.log('   ‚Ä¢ /poll - —Å–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å');
  console.log('   ‚Ä¢ /stats - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞');
  console.log('   ‚Ä¢ /roll [—á–∏—Å–ª–æ] - –±—Ä–æ—Å–æ–∫ –∫—É–±–∏–∫–∞');
  console.log('   ‚Ä¢ /ideas - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–¥–µ–π');
  console.log('   ‚Ä¢ /viral - –≤–∏—Ä—É—Å–Ω—ã–π –ø–æ—Å—Ç');
  console.log('   ‚Ä¢ /hashtags - —Ö–µ—à—Ç–µ–≥–∏');
  console.log('   ‚Ä¢ /rewrite - –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç');
  console.log('   ‚Ä¢ /analytics - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞');
  console.log('   ‚Ä¢ /growth - —Ä–æ—Å—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤');
  console.log('   ‚Ä¢ /report - –æ—Ç—á–µ—Ç');
  console.log('   ‚Ä¢ /crosspromo - –∫—Ä–æ—Å—Å-–ø—Ä–æ–º–æ');
  console.log('   ‚Ä¢ /competitors - –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã');
  console.log('   ‚Ä¢ /chatlist - —á–∞—Ç—ã –¥–ª—è –ø—Ä–æ–º–æ');
  console.log('   ‚Ä¢ /schedule - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ');
  console.log('   ‚Ä¢ /pause - –ø–∞—É–∑–∞');
  console.log('   ‚Ä¢ /resume - –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å');
  console.log('   ‚Ä¢ /ask - —Å–ø—Ä–æ—Å–∏—Ç—å AI');
  console.log('   ‚Ä¢ /settings - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏');
  console.log('');
  console.log('ü§ñ AI –ê–°–°–ò–°–¢–ï–ù–¢ –í –†–ï–ê–õ–¨–ù–û–ú –í–†–ï–ú–ï–ù–ò:');
  console.log('   ‚úÖ –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –ª—é–±—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è');
  console.log('   ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ —Å–æ —Å–ª–µ—à–µ–º');
  console.log('   ‚úÖ –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å - –±–æ—Ç –æ—Ç–≤–µ—Ç–∏—Ç!');
}
