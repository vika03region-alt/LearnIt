# ü§ñ Telegram Bot - –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              TELEGRAM BOT ECOSYSTEM                      ‚îÇ
‚îÇ                  (@IIPRB Channel)                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                                    ‚îÇ
        ‚ñº                                    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  USER COMMANDS   ‚îÇ              ‚îÇ  AUTO SCHEDULER  ‚îÇ
‚îÇ  (Interactive)   ‚îÇ              ‚îÇ  (Cron Jobs)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                                    ‚îÇ
        ‚îú‚îÄ Rate Limiting (5/min)             ‚îú‚îÄ 09:00 Post
        ‚îú‚îÄ AI Assistant (Grok)               ‚îú‚îÄ 15:00 Post
        ‚îú‚îÄ Cache Layer (1h TTL)              ‚îú‚îÄ 20:00 Post
        ‚îî‚îÄ User Stats Tracking               ‚îî‚îÄ 12:00 Mon/Thu Polls
                          ‚îÇ
                          ‚ñº
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ   DATABASE STORAGE    ‚îÇ
              ‚îÇ   (PostgreSQL)        ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ Rate Limiting

### 1. –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞

```typescript
// –õ–∏–º–∏—Ç—ã
COMMAND_RATE_LIMIT = 5 –∫–æ–º–∞–Ω–¥/–º–∏–Ω—É—Ç—É
AI_RATE_LIMIT = 3 AI –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
RATE_LIMIT_WINDOW = 60000ms (1 –º–∏–Ω—É—Ç–∞)

// –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
function checkRateLimit(userId, type: 'command' | 'ai') {
  const timestamps = getTimestamps(userId, type);
  const recentTimestamps = timestamps.filter(
    t => now - t < 60000
  );
  
  if (recentTimestamps.length >= limit) {
    return false; // ‚ùå –õ–∏–º–∏—Ç –ø—Ä–µ–≤—ã—à–µ–Ω
  }
  
  recentTimestamps.push(now);
  return true; // ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ
}
```

### 2. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤

```typescript
// –ö—ç—à –¥–ª—è —á–∞—Å—Ç—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (1 —á–∞—Å TTL)
responseCache = Map<string, {
  response: string;
  timestamp: number;
}>

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞
setInterval(() => {
  clearExpiredCache(); // –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏
}, 7200000);
```

### 3. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```typescript
userStats = Map<userId, {
  commands: number;        // –í—Å–µ–≥–æ –∫–æ–º–∞–Ω–¥
  aiRequests: number;      // AI –∑–∞–ø—Ä–æ—Å–æ–≤
  postsCreated: number;    // –°–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
  lastActive: Date;        // –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
}>

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–π—Å—Ç–≤–∏–∏
updateUserStats(userId, 'command' | 'ai' | 'post');
```

---

## ‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤

### Cron Schedule

```
09:00 –µ–∂–µ–¥–Ω–µ–≤–Ω–æ  ‚Üí –£—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç
15:00 –µ–∂–µ–¥–Ω–µ–≤–Ω–æ  ‚Üí –î–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç
20:00 –µ–∂–µ–¥–Ω–µ–≤–Ω–æ  ‚Üí –í–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç
12:00 –ü–Ω/–ß—Ç      ‚Üí –û–ø—Ä–æ—Å—ã –¥–ª—è –≤–æ–≤–ª–µ—á–µ–Ω–∏—è
```

### –õ–æ–≥–∏–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (publishPost)

```
START: Cron trigger –∏–ª–∏ —Ä—É—á–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è                  ‚îÇ
‚îÇ    - bot –∞–∫—Ç–∏–≤–µ–Ω?                      ‚îÇ
‚îÇ    - isSchedulerPaused = false?        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ ‚úÖ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ –ë–î                     ‚îÇ
‚îÇ    telegramPlatform =                  ‚îÇ
‚îÇ      storage.getPlatformByName()       ‚îÇ
‚îÇ    scheduledPosts =                    ‚îÇ
‚îÇ      storage.getPostsByStatus()        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. –ü–æ–∏—Å–∫ –≥–æ—Ç–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞                ‚îÇ
‚îÇ    now = new Date()                    ‚îÇ
‚îÇ    postToPublish = posts.find(         ‚îÇ
‚îÇ      p => p.scheduledAt <= now         ‚îÇ
‚îÇ    )                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚îú‚îÄ –ü–æ—Å—Ç –Ω–∞–π–¥–µ–Ω? ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  YES                      ‚îÇ NO
    ‚ñº                           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 4a. –ü—É–±–ª–∏–∫–∞—Ü–∏—è   ‚îÇ    ‚îÇ 4b. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è    ‚îÇ
‚îÇ     –∏–∑ –ë–î        ‚îÇ    ‚îÇ     –Ω–æ–≤–æ–≥–æ       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ                           ‚îÇ
    ‚îú‚îÄ –ï—Å—Ç—å mediaUrls?          ‚îú‚îÄ –í—ã–±–æ—Ä —Ç–µ–º—ã
    ‚îÇ  YES         NO            ‚îÇ  (random)
    ‚ñº              ‚ñº             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ sendVideo ‚îÇ ‚îÇ send  ‚îÇ  ‚îÇ generatePost ‚îÇ
‚îÇ (caption) ‚îÇ ‚îÇMessage‚îÇ  ‚îÇ (Grok AI)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ              ‚îÇ             ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
                   ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞                  ‚îÇ
‚îÇ    storage.updatePostStatus(           ‚îÇ
‚îÇ      postId, 'published', now          ‚îÇ
‚îÇ    )                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 6. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ                         ‚îÇ
‚îÇ    console.log(‚úÖ Post published)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚ñº
  END
```

### –§–æ—Ä–º–∞—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

```typescript
// –¢–µ–∫—Å—Ç + –í–∏–¥–µ–æ
if (post.mediaUrls && post.mediaUrls[0]) {
  const caption = post.title 
    ? `${post.title}\n\n${post.content}`
    : post.content;
  
  await bot.sendVideo(CHANNEL_ID, videoUrl, { caption });
}

// –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç
else {
  const text = post.title 
    ? `${post.title}\n\n${post.content}`
    : post.content;
  
  await bot.sendMessage(CHANNEL_ID, text);
}
```

---

## üí¨ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è 1: AI Video Generation

```
/aivideo <–ø—Ä–æ–º–ø—Ç>   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ (Kling AI)
                      ‚îú‚îÄ Rate limit: 3/min
                      ‚îú‚îÄ –°—Ç–æ–∏–º–æ—Å—Ç—å: $0.25/–≤–∏–¥–µ–æ
                      ‚îú‚îÄ –í—Ä–µ–º—è: 10-30 —Å–µ–∫
                      ‚îî‚îÄ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î

Flow:
User: /aivideo bitcoin rocket
    ‚Üì
Bot: "üé¨ –ì–µ–Ω–µ—Ä–∏—Ä—É—é –≤–∏–¥–µ–æ..."
    ‚Üì
Kling AI: generateTextToVideo()
    ‚Üì
Polling: checkVideoStatus() –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫
    ‚Üì
Bot: sendVideo(videoUrl)
    ‚Üì
Storage: createAIVideo(completed)
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è 2: Content Creation

```
/viral <—Ç–µ–º–∞>       - –í–∏—Ä—É—Å–Ω—ã–π –ø–æ—Å—Ç
/ideas <–Ω–∏—à–∞>       - 5 –∏–¥–µ–π –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
/hashtags <—Ç–µ–º–∞>    - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ö–µ—à—Ç–µ–≥–∏
/hook <—Ç–µ–º–∞>        - –¶–µ–ø–ª—è—é—â–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫
/rewrite <—Ç–µ–∫—Å—Ç>    - –£–ª—É—á—à–µ–Ω–∏–µ –ø–æ—Å—Ç–∞
/contest            - –ö–æ–Ω–∫—É—Ä—Å –¥–ª—è –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
/challenge <—Ç–µ–º–∞>   - –ß–µ–ª–ª–µ–Ω–¥–∂
/quiz <—Ç–µ–º–∞>        - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–≤–∏–∑

–û–±—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω:
    ‚Üì
Grok AI prompt engineering
    ‚Üì
Cache check (–µ—Å–ª–∏ –µ—Å—Ç—å ‚Üí –≤–æ–∑–≤—Ä–∞—Ç)
    ‚Üì
API call: grok.chat.completions.create()
    ‚Üì
userPosts.set(chatId, content)  ‚Üê –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
    ‚Üì
Bot: "‚úÖ –ì–æ—Ç–æ–≤! –ö–æ–º–∞–Ω–¥–∞ /publish –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏"
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è 3: Analytics & Growth

```
/analytics          - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–Ω–∞–ª–∞
/growth             - –ü–ª–∞–Ω —Ä–æ—Å—Ç–∞
/spy <–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç>    - –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
/trends <–Ω–∏—à–∞>      - –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã
/audit              - –ê—É–¥–∏—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞
/blueprint          - –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è

Flow:
    ‚Üì
Real-time API calls (–Ω–µ –∫—ç—à–∏—Ä—É—é—Ç—Å—è)
    ‚Üì
Grok AI analysis
    ‚Üì
–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è 4: Visual Content

```
/visual             - –ú–µ–Ω—é –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
/cover <—Ç–µ–º–∞>       - –û–±–ª–æ–∂–∫–∞ –¥–ª—è –≤–∏–¥–µ–æ
/meme <—Ç–µ–∫—Å—Ç>       - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ–º–∞
/infographic <—Ç–µ–º–∞> - –ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞
/story <—Ç–µ–º–∞>       - Stories –∫–æ–Ω—Ç–µ–Ω—Ç
/voiceover <—Ç–µ–∫—Å—Ç>  - –û–∑–≤—É—á–∫–∞ —Ç–µ–∫—Å—Ç–∞

Integration: Hugging Face + Stable Diffusion
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è 5: Management

```
/publish            - –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–≥–æ –ø–æ—Å—Ç–∞
/pause              - –ü–∞—É–∑–∞ –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥–∞
/resume             - –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥–∞
/stats              - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞
/help               - –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
/menu               - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏)

–í–∞–∂–Ω–æ: –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å /pause –∏ /resume
```

---

## üß† AI Assistant Logic

### –î–ª—è –ù–ï-–∫–æ–º–∞–Ω–¥ (–æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç)

```
User sends: "–ö–∞–∫ —É–≤–µ–ª–∏—á–∏—Ç—å –æ—Ö–≤–∞—Ç –ø–æ—Å—Ç–∞?"
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞          ‚îÇ
‚îÇ    publishKeywords = ['–æ–ø—É–±–ª–∏–∫—É–π',     ‚îÇ
‚îÇ      '–ø—É–±–ª–∏–∫—É–π', 'publish']            ‚îÇ
‚îÇ    if (text includes keyword)          ‚îÇ
‚îÇ       ‚Üí execute /publish               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ –ù–µ—Ç –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. Rate Limit Check (AI)               ‚îÇ
‚îÇ    if (!checkRateLimit(chatId, 'ai'))  ‚îÇ
‚îÇ       ‚Üí "‚è≥ –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤"    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ ‚úÖ –õ–∏–º–∏—Ç OK
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. Cache Check                         ‚îÇ
‚îÇ    cacheKey = text.substring(0, 100)   ‚îÇ
‚îÇ    cachedResponse =                    ‚îÇ
‚îÇ      getCachedResponse(cacheKey)       ‚îÇ
‚îÇ    if (cached) ‚Üí return + "‚ö° (–∫—ç—à)"   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ ‚ùå –ù–µ –≤ –∫—ç—à–µ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 4. AI Request (Grok)                   ‚îÇ
‚îÇ    bot.sendChatAction('typing')        ‚îÇ
‚îÇ    prompt = `AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ           ‚îÇ
‚îÇ      –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—é Telegram.             ‚îÇ
‚îÇ      –í–æ–ø—Ä–æ—Å: "${text}".                ‚îÇ
‚îÇ      –î–∞–π –ø–æ–ª–µ–∑–Ω—ã–π –æ—Ç–≤–µ—Ç: –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π,  ‚îÇ
‚îÇ      –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ–≤–µ—Ç—ã, –º–∞–∫—Å 500 —Å–∏–º.` ‚îÇ
‚îÇ                                        ‚îÇ
‚îÇ    response = grok.chat.create({       ‚îÇ
‚îÇ      model: 'grok-2-latest',           ‚îÇ
‚îÇ      temperature: 0.8                  ‚îÇ
‚îÇ    })                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 5. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞                  ‚îÇ
‚îÇ    setCachedResponse(cacheKey,         ‚îÇ
‚îÇ      response)                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 6. –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é               ‚îÇ
‚îÇ    bot.sendMessage(chatId, response)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 7. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏               ‚îÇ
‚îÇ    updateUserStats(chatId, 'ai')       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (1-—á–∞—Å–æ–≤–æ–π TTL)

```typescript
// –¢–∏–ø—ã –∫—ç—à–∏—Ä—É–µ–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
‚úÖ –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã
‚úÖ –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–µ–º—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚úÖ –û–±—â–∏–µ —Å–æ–≤–µ—Ç—ã –ø–æ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—é
‚ùå –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
‚ùå Real-time —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚ùå –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

// –ü—Ä–∏–º–µ—Ä
Key: "–∫–∞–∫ —É–≤–µ–ª–∏—á–∏—Ç—å –æ—Ö–≤–∞—Ç"
Value: {
  response: "5 —Å–ø–æ—Å–æ–±–æ–≤ —É–≤–µ–ª–∏—á–∏—Ç—å –æ—Ö–≤–∞—Ç: 1. –ü–æ—Å—Ç–∏–Ω–≥ –≤...",
  timestamp: 1696344000000
}
```

### 2. Batch Processing

```typescript
// –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞
setInterval(() => {
  // 1. –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∫—ç—à–∞
  cleanExpiredCache();
  
  // 2. –û—á–∏—Å—Ç–∫–∞ timestamps –¥–ª—è rate limiting
  cleanOldTimestamps();
  
  // 3. –ê—Ä—Ö–∏–≤–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  archiveUserStats();
}, 7200000);
```

### 3. Memory Management

```typescript
// –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
userPosts: Map (–º–∞–∫—Å 1000 –∑–∞–ø–∏—Å–µ–π)
responseCache: Map (–º–∞–∫—Å 500 –∑–∞–ø–∏—Å–µ–π)
userStats: Map (–º–∞–∫—Å 10000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

// Auto-cleanup –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏
if (userPosts.size > 1000) {
  const oldestEntries = Array.from(userPosts.entries())
    .sort((a, b) => a.timestamp - b.timestamp)
    .slice(0, 200);
  
  oldestEntries.forEach(([key]) => userPosts.delete(key));
}
```

---

## üéØ –ú–µ—Ç—Ä–∏–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### Tracking (commandStats)

```typescript
commandStats = {
  '/start': 1523,
  '/viral': 892,
  '/ideas': 456,
  '/analytics': 234,
  '/publish': 678,
  '/aivideo': 145,
  'ai_assistant': 2341
}

// –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏
function getTopCommands(limit = 5) {
  return Array.from(commandStats.entries())
    .sort((a, b) => b[1] - a[1])
    .slice(0, limit);
}

// –†–µ–∑—É–ª—å—Ç–∞—Ç
[
  ['ai_assistant', 2341],  ‚Üê –°–∞–º–æ–µ –ø–æ–ø—É–ª—è—Ä–Ω–æ–µ
  ['/start', 1523],
  ['/viral', 892],
  ['/publish', 678],
  ['/ideas', 456]
]
```

### User Engagement Metrics

```typescript
// –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
userStats.get(userId) = {
  commands: 45,         // –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
  aiRequests: 23,       // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AI
  postsCreated: 12,     // –ö–æ–Ω—Ç–µ–Ω—Ç-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è
  lastActive: Date      // Retention
}

// –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
Active: commands > 20 && lastActive < 7 days
Engaged: postsCreated > 5
Power User: aiRequests > 15 && postsCreated > 10
Dormant: lastActive > 30 days
```

---

## üîÑ Integration —Å Master Automation

```
Master Automation (10 steps)
    ‚îÇ
    ‚îÇ –®–ê–ì 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ (Kling AI)
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ klingAIService.generateTextToVideo()   ‚îÇ
‚îÇ    ‚Üì                                   ‚îÇ
‚îÇ storage.createAIVideo() ‚Üê DB           ‚îÇ
‚îÇ    ‚Üì                                   ‚îÇ
‚îÇ videos.set(i, videoUrl)                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚îÇ –®–ê–ì 4: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ schedulerService.schedulePost()        ‚îÇ
‚îÇ    ‚Üì                                   ‚îÇ
‚îÇ storage.createPost({                   ‚îÇ
‚îÇ   platformId: telegram.id,             ‚îÇ
‚îÇ   mediaUrls: [videoUrl],               ‚îÇ
‚îÇ   scheduledAt: scheduledDate           ‚îÇ
‚îÇ })                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚îÇ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Telegram Bot: publishPost()            ‚îÇ
‚îÇ    ‚Üì                                   ‚îÇ
‚îÇ bot.sendVideo(CHANNEL_ID, videoUrl)    ‚îÇ
‚îÇ    ‚Üì                                   ‚îÇ
‚îÇ storage.updatePostStatus('published')  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üöÄ Best Practices –¥–ª—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è

### 1. Timing Strategy

```
09:00 - –£—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Å—Ç (–≤—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
    ‚îú‚îÄ –§–æ—Ä–º–∞—Ç: –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π + –∫–æ—Ñ–µ —ç–º–æ–¥–∑–∏ ‚òï
    ‚îî‚îÄ –î–ª–∏–Ω–∞: 300-400 —Å–∏–º–≤–æ–ª–æ–≤

15:00 - –î–Ω–µ–≤–Ω–æ–π –ø–æ—Å—Ç (–æ–±–µ–¥–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤)
    ‚îú‚îÄ –§–æ—Ä–º–∞—Ç: –≤–∏—Ä—É—Å–Ω—ã–π + —ç–º–æ—Ü–∏–∏
    ‚îî‚îÄ –î–ª–∏–Ω–∞: 150-300 —Å–∏–º–≤–æ–ª–æ–≤ (–±—ã—Å—Ç—Ä–æ–µ —á—Ç–µ–Ω–∏–µ)

20:00 - –í–µ—á–µ—Ä–Ω–∏–π –ø–æ—Å—Ç (–≤–µ—á–µ—Ä–Ω–µ–µ —á—Ç–µ–Ω–∏–µ)
    ‚îú‚îÄ –§–æ—Ä–º–∞—Ç: –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–π + –∏–Ω—Å–∞–π—Ç—ã
    ‚îî‚îÄ –î–ª–∏–Ω–∞: 400-600 —Å–∏–º–≤–æ–ª–æ–≤

12:00 –ü–Ω/–ß—Ç - –û–ø—Ä–æ—Å—ã (engagement boost)
    ‚îî‚îÄ –§–æ—Ä–º–∞—Ç: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π + –ø—Ä–æ—Å—Ç–æ–π –≤–æ–ø—Ä–æ—Å
```

### 2. Content Mix (70-20-10 Rule)

```
70% - –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
    ‚îú‚îÄ /ideas
    ‚îú‚îÄ /blueprint
    ‚îî‚îÄ Grok AI —Å–æ–≤–µ—Ç—ã

20% - –†–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π
    ‚îú‚îÄ /meme
    ‚îú‚îÄ /contest
    ‚îî‚îÄ /challenge

10% - –ü—Ä–æ–º–æ
    ‚îú‚îÄ –ü–ª–∞—Ç–Ω—ã–µ —É—Å–ª—É–≥–∏
    ‚îú‚îÄ VIP –¥–æ—Å—Ç—É–ø
    ‚îî‚îÄ –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
```

### 3. Engagement Tactics

```
üé£ Hook (–ø–µ—Ä–≤—ã–µ 2 —Å—Ç—Ä–æ–∫–∏)
    ‚îú‚îÄ –í–æ–ø—Ä–æ—Å
    ‚îú‚îÄ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    ‚îú‚îÄ –ü—Ä–æ–≤–æ–∫–∞—Ü–∏—è
    ‚îî‚îÄ –û–±–µ—â–∞–Ω–∏–µ

üíé Value (–æ—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å)
    ‚îú‚îÄ –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    ‚îú‚îÄ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã
    ‚îî‚îÄ –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

üì¢ CTA (–ø—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é)
    ‚îú‚îÄ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
    ‚îú‚îÄ –†–µ–ø–æ—Å—Ç
    ‚îú‚îÄ –ü–æ–¥–ø–∏—Å–∫–∞
    ‚îî‚îÄ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å—Ç–∞
```

### 4. Hashtag Strategy

```
3-5 —Ö–µ—à—Ç–µ–≥–æ–≤ –Ω–∞ –ø–æ—Å—Ç:
    ‚îú‚îÄ 1 –±—Ä–µ–Ω–¥–æ–≤—ã–π (#LuciferTrading)
    ‚îú‚îÄ 2-3 –Ω–∏—à–µ–≤—ã—Ö (#–∫—Ä–∏–ø—Ç–∞ #—Ç—Ä–µ–π–¥–∏–Ω–≥)
    ‚îî‚îÄ 1 –æ–±—â–∏–π (#—Ñ–∏–Ω–∞–Ω—Å—ã)

–ò–∑–±–µ–≥–∞—Ç—å:
    ‚ùå –°–ø–∞–º (>10 —Ö–µ—à—Ç–µ–≥–æ–≤)
    ‚ùå –ù–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ç–µ–≥–∏
    ‚ùå –¢–æ–ª—å–∫–æ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ (–∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è)
```

---

## üé® Visual Content Strategy

### Kling AI Videos (Master Automation)

```
–§–æ—Ä–º–∞—Ç: 5-10 —Å–µ–∫—É–Ω–¥, 16:9, 1080p
–ö–æ–Ω—Ç–µ–Ω—Ç: Bitcoin, —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
–ß–∞—Å—Ç–æ—Ç–∞: 2-3 –≤–∏–¥–µ–æ/–¥–µ–Ω—å (–≤ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ—Å—Ç–∞—Ö)
–°—Ç–æ–∏–º–æ—Å—Ç—å: $0.25/–≤–∏–¥–µ–æ = $0.75/–¥–µ–Ω—å
```

### User-Generated Videos (/aivideo)

```
–î–æ—Å—Ç—É–ø: –õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–æ—Ç–∞
–õ–∏–º–∏—Ç: 3 –∑–∞–ø—Ä–æ—Å–∞/–º–∏–Ω—É—Ç—É
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ userPosts
–ü—É–±–ª–∏–∫–∞—Ü–∏—è: /publish –∏–ª–∏ "–æ–ø—É–±–ª–∏–∫—É–π"
```

---

## üí∞ –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞

### Freemium Model

```
FREE tier:
    ‚îú‚îÄ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã
    ‚îú‚îÄ Rate limits: 5 –∫–æ–º–∞–Ω–¥/–º–∏–Ω, 3 AI/–º–∏–Ω
    ‚îú‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞: –±–∞–∑–æ–≤–∞—è
    ‚îî‚îÄ /aivideo: 3 –∑–∞–ø—Ä–æ—Å–∞/–¥–µ–Ω—å

PREMIUM tier ($29.99/–º–µ—Å):
    ‚îú‚îÄ Unlimited –∫–æ–º–∞–Ω–¥—ã
    ‚îú‚îÄ Priority AI responses
    ‚îú‚îÄ /aivideo: unlimited
    ‚îú‚îÄ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
    ‚îî‚îÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

VIP tier ($99.99/–º–µ—Å):
    ‚îú‚îÄ –í—Å—ë –∏–∑ Premium
    ‚îú‚îÄ –õ–∏—á–Ω—ã–π AI-—Å—Ç—Ä–∞—Ç–µ–≥
    ‚îú‚îÄ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤
    ‚îú‚îÄ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
    ‚îî‚îÄ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
```

---

## üìä Success Metrics

```
Engagement Rate = (Commands + AI Requests) / Total Users
Content Creation Rate = Posts Created / Active Users
Retention = Users active in last 7 days / Total Users
Conversion = Premium Users / Total Users
Viral Coefficient = New Users from Referrals / Active Users

Targets:
‚úÖ Engagement Rate > 40%
‚úÖ Content Creation Rate > 15%
‚úÖ 7-day Retention > 60%
‚úÖ Conversion > 5%
‚úÖ Viral Coefficient > 0.3
```

---

## üîß Troubleshooting

### Common Issues

```
1. "‚è≥ –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∫–æ–º–∞–Ω–¥"
   ‚Üí Rate limit reached
   ‚Üí Wait 60 seconds
   ‚Üí Solution: Upgrade to Premium

2. "‚ùå –û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏"
   ‚Üí Bot lacks permissions
   ‚Üí Check @IIPRB admin list
   ‚Üí Solution: Add bot as admin

3. "üé¨ –í–∏–¥–µ–æ –Ω–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ"
   ‚Üí Kling AI timeout
   ‚Üí Check KLING_API_KEY
   ‚Üí Solution: Retry or check balance

4. Cache not working
   ‚Üí TTL expired
   ‚Üí Check cache size
   ‚Üí Solution: Automatic cleanup
```

---

## üéØ Roadmap

### Phase 1 (Current) ‚úÖ
- [x] Basic commands
- [x] AI Assistant (Grok)
- [x] Auto-posting (3x/day)
- [x] Rate limiting
- [x] Kling AI integration

### Phase 2 (Next)
- [ ] Voice message support
- [ ] Image generation (Stable Diffusion)
- [ ] Advanced analytics dashboard
- [ ] A/B testing for posts
- [ ] Multi-language support

### Phase 3 (Future)
- [ ] Telegram Ads integration
- [ ] Chatbot for channel subscribers
- [ ] AI-powered moderation
- [ ] Community management tools
- [ ] Monetization widgets

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ Production Ready
**Channel**: @IIPRB
**Bot Token**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ BOTTG secret
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: October 2025
